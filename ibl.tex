\documentclass{ibl}
\usepackage{ibltext} % for the text only; answers-only is another .sty

\usepackage{etoolbox}
\usepackage{comment}
\newbool{euclid}
% \booltrue{euclid}  % Euclid's proof of Euclid's Lemma
\boolfalse{euclid}  % Bezout proof of Euclid's Lemma
\ifbool{euclid}{
  \includecomment{euclidproof}  
  \excludecomment{bezoutproof}
}{
  \excludecomment{euclidproof} 
  \includecomment{bezoutproof}
}

\frontmatter
\begin{document}    
\vspace*{\fill}
\begin{center}
  \setlength{\unitlength}{1in}
  \newcommand{\enormoussize}{\fontsize{30pt}{20pt}\selectfont}
  {\enormoussize\scshape \makebox[0em][l]{\raisebox{24pt}{\large\itshape \hspace*{15pt}An Inquiry-Based}}{\color{darkii}Introduction to Proof}}
\end{center}
\vspace*{\fill}
\begin{flushright}
  \large\color{darki}
  \begin{tabular}{@{}l@{}}
  Jim Hef{}feron  \\
  version 0.9
  \end{tabular}
\end{flushright}

\newpage
\begin{center}
  \renewcommand{\arraystretch}{1.07}
  {\large\textsc{Notation}} \\[3ex]
  \begin{tabular}{r|l}
    $\Z$    &integers; $\set{\ldots, -2,-1,0,1,2,\ldots}$  \\
    $\N$    &natural numbers; $\set{0,1,2,\ldots}$  \\
    $\Z^+$  &positive integers; $\set{1,2,\ldots}$  \\
    $\Q$    &rational numbers  \\
    $\R$    &real numbers     \\
    $a\divides b$  &$a$ divides~$b$ \\
    $a\bmod b$  &the remainder when $a$ is divided by $b$ \\
    $a\equiv c\pmod b$ &$a$ and $c$ have the same remainder when divided by $b$ \\
    $\gcd(a,b)$, $\lcm(a,b)$ &greatest common divisor, least common multiple  \\
    $a\in A$  &$a$ is an element of the set $A$  \\
    $\emptyset$  &the empty set  \\
    $A\subseteq B$ &$A$ is a subset of~$B$  \\
    $\charfcn{A}$  &characteristic function of the set~$A$ \\
    $\setcomp{A}$  &complement of the set~$A$  \\
    $A\union B$, $A\intersection B$ &union, intersection of the sets \\
    $A- B$, $A\symdiff B$ &difference, symmetric difference of the sets \\
    $|A|$  &order of the finite set $A$; number of elements \\ 
    $\powerset(A)$  &power set of $A$; set of all of $A$'s subsets \\
    $\seq{x_0,x_1,\ldots}$, $\lh(\seq{x_0,x_1,\ldots})$ &sequence, length of the sequence   \\
    $A_0\times A_1\times \cdots \times A_{n-1}$, $A^n$  &Cartesian product of sets, product of a set with itself \\
    $\map{f}{D}{C}$  &function with domain~$D$ and codomain~$C$ \\
    $\map{\identity}{D}{D}$  &identity map; $\identity(d)=d$ \\
    $\restrictionmap{f}{B}$  &restriction of $f$ to a subset of the domain \\
    $f^{-1}(c)$, $f^{-1}(A)$  &inverse image of an element or subset of the codomain \\
    $\composed{g}{f}$  &function composition   \\
    $f^{-1}$  &function inverse to~$f$  \\
    $x\equiv y\pmod R$  &$(x,y)\in R$ where $R$ is an equivalence; equivalence with respect to~$R$ \\ 
    $\eqclass{x}$  &equivalence class containing~$x$  \\
    $A\sim B$  &the two sets have the same cardinality
  \end{tabular}
\end{center}
\vspace*{\fill}
\begin{center}
  {\large\textsc{Lower case Greek letters, with pronounciation}}
    \\[3ex]
  \newcommand{\pronounced}[1]{\hspace*{.2em}\small\textit{#1}}
  \begin{tabular}{cl@{\hspace*{3em}}cl}
    character &\multicolumn{1}{c}{name}       
    &character  &\multicolumn{1}{c}{name}  \\ 
    \hline
     \( \alpha  \) &alpha \pronounced{AL-fuh}  
       &\( \nu     \)  &nu  \pronounced{NEW}       \\
     \( \beta   \) &beta  \pronounced{BAY-tuh}     
       &\( \xi  \)  &xi   \pronounced{KSIGH}    \\ 
     \( \gamma  \) &gamma  \pronounced{GAM-muh}    
       &\( o       \) &omicron  \pronounced{OM-uh-CRON}  \\
     \( \delta  \) &delta  \pronounced{DEL-tuh}   
       &\( \pi \) &pi  \pronounced{PIE}     \\
     \( \epsilon\) &epsilon  \pronounced{EP-suh-lon}   
       &\( \rho \) &rho  \pronounced{ROW}    \\
     \( \zeta   \) &zeta   \pronounced{ZAY-tuh}    
       &\( \sigma  \) &sigma  \pronounced{SIG-muh}  \\
     \( \eta    \) &eta  \pronounced{AY-tuh}      
       &\( \tau \) &tau  \pronounced{TOW (as in cow)}    \\
     \( \theta  \) &theta  \pronounced{THAY-tuh}    
       &\( \upsilon\) &upsilon  \pronounced{OOP-suh-LON}  \\
     \( \iota \) &iota \pronounced{eye-OH-tuh}   
       &\( \phi    \) &phi  \pronounced{FEE, or FI (as in hi)}    \\
     \( \kappa  \) &kappa  \pronounced{KAP-uh}  
       &\( \chi    \) &chi  \pronounced{KI (as in hi)}    \\
     \( \lambda \) &lambda  \pronounced{LAM-duh}  
       &\( \psi    \) &psi \pronounced{SIGH, or PSIGH}    \\
     \( \mu  \)  &mu  \pronounced{MEW}     
       &\( \omega  \) &omega  \pronounced{oh-MAY-guh}  
  \end{tabular}
\end{center}





\chapter*{Preface}

This is a course in mathematical proof. 
It is for math majors who are US sophomore, although since
it requires only high school mathematics
it can be used with first year students.



\medskip
\noindent\textsc{Approach.}
This course is Inquiry-Based (sometimes called Moore method).
That is, this text is a sequence of exercises
along with definitions and a few 
remarks.
The students together work through the mathematics by
proving statements or sometimes by providing examples or counterexamples.
They work directly with the mathematics\Dash the instructor only 
lightly guides\Dash
working out misunderstandings, 
sometimes stumbling in the dark, and sometimes
having beautiful flashes of insight.
% In short, this approach is the difference between cover and do.
For these students, 
this is the best way to develop mathematical maturity.


\medskip
\noindent\textsc{Topics.}
We start with elementary number theory, not logic and sets, 
for the same reason
that the baseball team's annual practice starts with hitting the ball and 
not with reading the rulebook.
Math majors take readily to proving things about
divisibility and primes, enjoying the 
intellectual challenge and verbal exchange, 
whereas a first month of background material can be a damper.

But the background material is good stuff also and 
students are onboard once they see where it takes them.
In the second and third chapters we do
sets, functions, and relations, now with the
intellectual habits that we've established at the start.

There are some topics, such as the definition of implication, 
that students need even in the
first chapter.
My class meetings begin with some people going to the 
board to write their answers to the homework, and 
I often use these ten minutes for a beamer slide or two that covers issues from
the current work.
This just-in-time approach keeps the class centered 
on proving things while ensuring that they get what
they need when they need it.
(The only exception is that we pause briefly to do induction,
since it is typically new for these students and needs 
their full attention.)



\medskip
\noindent\textsc{License.}
This material is Free; see the details  
at \url{http://joshua.smcvt.edu/proofs}.
This includes the \LaTeX{} source so instructors can tailor the
material to their students.  
Also on that page are the slides that I use
and, for instructors new to this approach, 
a brief description of the classroom approach that works for me.


\vspace{\fill}
\noindent\parbox{.95\textwidth}{\raggedright\textit{At the first meeting of the class Moore would define the basic terms and either challenge the class to discover the relations among them, or, depending on the subject, the level, and the students, explicitly state a theorem, or two, or three. Class dismissed. Next meeting: "Mr Smith, please prove Theorem 1. Oh, you can't? Very well, Mr Jones, you? No? Mr Robinson? No? Well, let's skip Theorem 1 and come back to it later. How about Theorem 2, Mr Smith?" Someone almost always could do something. If not, class dismissed. It didn't take the class long to discover that Moore really meant it, and presently the students would be proving theorems and watching the proofs of others with the eyes of eagles.}\hspace{1.5em}--Paul Halmos}

\vspace{.2in}
\noindent\parbox{.95\textwidth}{\textit{It's a kind of art that may change lives.}\hspace{1.5em}--Peter Schjeldahl}
 
\vspace*{\fill}
\begin{flushright}
  \begin{tabular}{@{}l@{}}
  Jim Hef{}feron  \\
  Saint Michael's College  \\
  Colchester, Vermont USA \\
  2013-Spring
  \end{tabular}
\end{flushright}




\mainmatter
\pagestyle{bodypage}
\chapter{Number Theory}

We begin with results about the
integers $\Z=\set{..,-2,-1,0,1,2,\ldots}$.
In this chapter ``number'' means integer.
In some cases results refer to the 
natural numbers $\N=\set{0,1,2,\ldots}$.


% .....................................
\section{Divisibility}

\begin{df}
  For two integers $d,n$ we say that
  $d$ \definend{divides}~$n$
  if there is an integer~$k$ such that $dk=n$.
  Here, $d$~is the \definend{divisor}, 
  $n$~is the \definend{dividend},
  and~$k$ is the \definend{quotient}.
  (Alternative wordings are:
  $d$~\definend{is a factor of}~$n$,
  or $d$~\definend{goes evenly into}~$n$,
  or $n$~\definend{is a multiple of}~$d$.)
  We denote the relationship as
  $d\divides n$ if $d$~is a divisor of~$n$
  or as $d\ndivides n$ if it is not.
\end{df}

\begin{df}
  A natural number is \definend{even} if $2$ divides it,
  otherwise it is \definend{odd}.
  (Alternative wording is that the number \definend{has even parity}
  or \definend{has odd parity}.)
\end{df}

The notation $d\divides n$ signifies a relationship between two numbers.
It is different than the fraction $d/n$, which is a number.
We can sensibly ask ``Does $2$ divide~$5$?''\spacefactor=1000\
but ``Does $2/5$?''\spacefactor=1000\ is not sensible.   

\begin{ex}[Interaction of parity with sign] 
\label{ex:InteractionOfParityWithSign}
\pord.
\begin{exes}
\item If a number is even then its negative is even.
\item If a number is odd then its negative is odd.
\item If $d\divides a$ then $-d\divides a$ and $d\divides -a$.
\item If $d\divides a$ then $d\divides\absval{a}$.
\end{exes}  
\begin{ans}
\begin{exes}
\item If $n\in\Z$ is even then $n=2k$ for some $k\in\Z$.
Then $-n=-(2k)=2\cdot(-k)$ shows that the negative is also even.
\item Let $n$ be an integer and suppose that its negative~$-n$ is even.
Since the negative of $-n$ is $n$, the prior item shows that $n$ is even.
That is, $n$ is even if and only if $-n$ is even.
Thus if $n$ is not even then $-n$ is also not even.
\item Assume that $d\divides a$ for $d,a\in\Z$, so that 
$a=dk$ for some~$k\in\Z$.
For the first, that $-d\divides a$, observe that
$a=(-d)\cdot(-k)$.
For the second, observe that $-a=d\cdot(-k)$.
\item Let $d\divides a$.
The absolute value $\absval{a}$ equals~$a$ if $a\geq 0$ and equals
$-a$ if $a<0$.
For the $a\geq 0$ case, the implication that if $d\divides a$ then $d\divides a$
is trivial.
For the $a<0$ case, 
the implication that if $d\divides a$ then $d\divides -a$ was
proved in the prior item.
\end{exes}
\end{ans}
\end{ex}

\begin{ex}[Interaction of parity with addition]\pord.
\begin{exes}
\item The sum of two evens is even.
  The difference of two evens is even.
\item The sum of two odds is odd. 
The difference of two odds is odd.
\item Generalize the first item to arbitrary divisors~$d$.
\end{exes}  
\begin{ans}
\begin{exes}
\item Let $a,b\in\Z$ be even so that $a=2m$ and~$b=2n$ for some $m,n\in\Z$.
Then $a+b=2m+2n=2(m+n)$ is even,
and $a-b=2m-2n=2(m-n)$ is even.
\item Both statements are false: for instance $1$ and~$3$ are odd
but both $1+3$ and~$1-3$ are even.
\item A reasonable generalization is that for any $d\in\Z$
  the sum and difference of multiples of~$d$ is again a multiple of~$d$.
 
For a proof
let $a,b\in\Z$ be multiples of~$d$ so that $a=dm$ and~$b=dn$ 
for some $m,n\in\Z$.
Then $a+b=dm+dn=d(m+n)$ is a multiple of~$d$
and $a-b=dm-dn=d(m-n)$ is multiple of~$d$.
\end{exes}
\end{ans}
\end{ex}

\begin{ex}
Find a counterexample to:
where $a,b\in\N$, the number $a+b$ is even if and only if $a-b$ is even.
Patch the statement\Dash that is, alter it slightly\Dash to make it true.
\begin{ans}
One counterexample is to take the numbers $1,3\in\N$, since the difference
$1-3$ does not have a defined value on the natural numbers.  
The patch is to change the $\N$ to~$\Z$:
where $a,b\in\Z$, 
the number $a+b$ is even if and only if $a-b$ is even.

For a proof of the patched statement suppose that $a,b\in\Z$.
Then $a+b$ is even if and only if 
$a+b=2k$ for some $k\in\Z$,
which is true if and only if
$a-b=a+b-2b=2k-2b=2(k-b)$,
which holds if and only if~$a-b$ is even. 
\end{ans}
\end{ex}

\begin{ex}[Interaction of parity with multiplication]\pord.
\begin{exes}
\item The product of two evens is even.
\item The quotient of two evens, if it is an integer, is even.
\item Generalize the first item to any divisor~$d$.
\end{exes}  
\begin{ans}
\begin{exes}
\item Let $a,b\in\Z$ be even
so that $a=2m$ and~$b=2n$ for some $m,n\in\Z$.
Then $ab=2m\cdot 2n=2(m\cdot 2n)$ is even.
\item This is false since both $6$ and~$2$ are even but the quotient $6/2$
is not even.
\item The first item can generalize to: for any~$din\N$, 
the product of two multiples of~$d$ is a multiple of~$d$.

For the proof,  let $a,b\in\Z$ be multiples of~$d$
so that $a=dm$ and~$b=dn$ for some $m,n\in\Z$.
Then $ab=dm\cdot dn=d(m\cdot dn)$ is a multiple of~$d$.

(The first item can also generalize to: a product of two multiples of
$d$ is a multiple of~$d^2$.)
\end{exes}
\end{ans}
\end{ex}

\begin{ex}[Divisibility Properties] \label{ex:DivisibilityProperties}
Let $d$, $m$, and $n$ be integers.
Prove each.
\begin{exes}
\item \notetext{Reflexivity} Every number divides itself.
\item Every number divides $0$ while
  the only number that $0$ divides is itself.
\item \notetext{Transitivity} If $d\divides n$ and $n\divides m$ 
   then $d\divides m$.
\item \notetext{Cancellation} 
  For $d,n\in\Z$ we have $d\divides n$ if and only if 
  $ad\divides an$ for any~$a\in\Z$ with $a\neq 0$.
\item \notetext{Comparison} 
  For $d,n\in\Z^+$, if $n$ is a multiple of~$d$ then $n\geq d$.
\item Every number is divisible by $1$.
  The only numbers that divide~$1$ are $1$ and~$-1$.
\item The largest divisor of $a$ is $\absval{a}$, for $a\in\Z$ with $a\neq 0$.
  (Recall that the absolute value  $\absval{a}$ of a number is~$a$ 
  if $a\geq 0$ and is~$-a$ if $a<0$.)
\item Every nonzero integer has only finitely many divisors.
\end{exes}
\begin{ans}
\begin{exes}
\item Any number $a\in\Z$ satisfies that $a=a\cdot 1$.
\item For every $k\in\Z$ the equation~$0=k\cdot 0=0\cdot k$ has~$0$ 
  as a multiple of~$k$.
  That equation also shows that the only number that~$0$ divides is itself. 
\item Suppose that $d, n, m\in\Z$ are such that $d\divides n$ and
  $n\divides m$.
  Then there are $i,j\in\Z$ such that $n=di$ and~$m=nj$.
  Substitute to get $m=(di)\cdot j=d\cdot(ij)$, which shows that
  $d$ divides~$m$.
\item Fix~$d,n\in\Z$.
  If $d\divides n$ then $n=dk$ for some $k\in\Z$ and so for any~$a\in\Z$
  we have $an=adk$, which shows that $ad\divides an$.
  For the other implication, if $a\in\Z$ is such that $a\neq 0$ and
  $ad\divides an$ then $an=adk$ for some  $k$.
  Since $a\neq 0$ we can multiply by $1/a$ to get $n=dk$, and therefore
  $d\divides n$.
\item Assume $d,n\in\Z^+$.
  Because $n$ is a multiple of $d$ we have that $n=dk$ for some $k\in\Z$.
  Note that $k\geq 1$ since otherwise $n\leq 0$ but $n$ is given as positive.  
  Multiplying by the positive number~$d$ gives $n=dk\geq d$ 
\item That every number is divisible by~$1$ follows from the fact that
   for every $a\in\Z$ the equation $a=1\cdot a$ holds.

  For the other part 
  first consider a divisor~$d$ of~$1$ that is a positive integer.
  By the prior item $1\geq d$ so the only such divisor is~$d=1$.
  Clearly $0$ is not a divisor of~$1$ so the only remaining candidates
  are negative integers.
  We have shown that for $d,a\in\Z$, if $d\divides a$ then $-d\divides a$,
  so if a negative number~$d$ divides~$1$ then the positive~$-d$ 
  also divides~$1$.
  Since the only such positive number is~$-d=1$, the only 
  candidate for a negative divisor is $d=-1$. 
\item Fix $a\in\Z$. 
  First note that $\absval{a}$ does indeed divide~$a$ because
  if $a\geq 0$ then $\absval{a}\divides a$ follows from 
  $a=\absval{a}\cdot 1$,
  while if $a<0$ then $\absval{a}\divides a$ follows from 
  $a=\absval{a}\cdot(-1)$.

  We finish by showing that no divisor of~$a\neq 0$ is larger than $\absval{a}$.
  We have shown that for $d,a\in\Z$ if $d\divides a$ then $d\divides -a$,
  if a negative~$a$ had a divisor greater than~$\absval{a}$ then the
  positive number~$-a$ would also have such a divisor.
  So we will be done if
  we show there is no dividend~$a>0$ with a divisor larger than $\absval{a}=a$.
  By the Comparison property, a positive dividend is greater than or 
  equal to any of its divisors. 
  Thus~$\absval{a}$ is maximal.
\item By the prior item if $a\neq 0$ then all of the divisors of~$a$
  are in the interval of integers from $-a$ to~$a$. 
\end{exes}
\end{ans}
\end{ex}

\begin{ex}
Give the converse of Reflexivity: what conclusion can you make
if $a\divides b$ and~$b\divides a$?
\begin{ans}
We will show that for $a,b\in\Z$, if both $a\divides b$ and~$b\divides a$
then $a=\pm b$.

By definition $a\divides b$ and~$b\divides a$ implies that $b=ak$
and $a=bm$ for some $k,m\in\Z$.
Substitution gives $a=bm=akm$ and then cancellation gives $1=km$ (cancellation
does not apply if $a=0$ but in this case the proof is easy).
The only divisors of $1$ are $1$ and~$-1$, so $k=\pm 1$ and~$m=\pm 1$. 
Thus $b=\pm a$ and~$a=\pm b$.
\end{ans}
\end{ex}

\begin{ex} \notetext{Linearity} \label{ex:DividesAndLinearCombinations}
Suppose that $a,b,c\in\Z$.
\begin{exes}
\item Prove that if $a\divides b$ then $a\divides bc$ for all integers~$c$.
\item Prove that if $a\divides b$ and $a\divides c$ then $a$ divides the 
  sum~$b+c$ and difference~$b-c$.
\item Generalize.
\end{exes}
\begin{ans}
\begin{exes}
\item If $a\divides b$ then $b=ak$ for some~$k\in\Z$.
  Thus $bc=akc=a\cdot(kc)$ is a multiple of~$a$
\item Suppose that $a,b,c\in\Z$ and that $a\divides b$ and $a\divides c$.
  Then $b=ak$ and $c=am$ for some $k,m\in\Z$. 
  Substitution  
  $b+c=ak+am=a\cdot(k+m)$
  shows that $a$ divides the sum~$b+c$.
  A similar substitution
  $b-c=ak-am=a\cdot(k-m)$
  shows that $a$ divides the difference.
\item A natural generalization is that $a$ divides any combination
  $i\cdot b+j\cdot c$ where $i,j\in\Z$.
  The proof is
  $ib+jc=i\cdot (ak)+j\cdot(am)=a\cdot(ik+jm)$.
\end{exes}
\end{ans}
\end{ex}




% .....................................
\section{Interlude: induction}
Results in the prior section need only proof techniques that come naturally
to people with a mathematical aptitude.
But some results to follow require a technique 
that is not as natural, mathematical induction.
We pause now to introduce it.

We will start with exercises about sums 
(but note that induction is not about sums,
we use them only because they make the best first exercises).
For instance, most people have noticed that the odd numbers sum to 
perfect squares: $1+3=4$, $1+3+5=9$, $1+3+5+7=16$, etc.,
so we look to prove 
the statement 
``The sum of the first $n$ odd numbers $1+3+5+\cdots+2n-1$ is $n^2$.'' 

Our induction proofs have two steps.
For the base step we show that the statement holds for some first number;
below we will verify the the statement for the number~$1$.
The inductive step is more subtle;
we will verify the following implication.
\begin{equation*}
  \begin{tabular}{l} 
  \textit{If} the statement holds from the base number up to and including 
   the $n=k$ case \\
  \textit{then} the statement also holds in the~$n=k+1$ case.
  \end{tabular}
  \tag{$*$}
\end{equation*}
Doing both steps will 
prove that our statement is true for all~$n\geq 1$.
That's because, first, the base step
directly verifies the statement for the number~$1$.
Next, because the inductive step verifies the implication~($*$) for all $k$, 
that implication applied to the~$k=1$ case gives 
that the statement is true for the case of the number~$2$. 
Now, with the statement established for both $1$ and~$2$, 
apply ($*$) again to conclude that the statement is true for the number~$3$.
In this way, we bootstrap to all numbers greater than or equal to $1$.
Below is an example proof.

\begin{proof}
  We show that $1+3+\cdots+(2n-1)=n^2$ by induction.
  For the $n=1$ base step note that on the left the sum has one term, $1$,
  which equals the value on the right, $1^2$.

  For the inductive step assume that the 
  formula is true for cases $n=1$, $n=2$, \ldots, $n=k$, and 
  consider the $n=k+1$ case.
  The sum is $1+3+\cdots+(2k-1)+(2(k+1)-1)=1+3+\cdots+(2k-1)+(2k+1)$.
  By the inductive hypothesis the statement is true in the $n=k$ case
  so we can substitute 
  $1+3+\cdots+(2k-1)+(2k+1)=k^2+(2k+1)=(k+1)^2$.
  This is the required expression for the case~$k+1$.
\end{proof}

\begin{ex}
Prove by induction.
\begin{exes}
\item $1+2+\cdots+n=n(n+1)/2$
\item $1+4+9+\cdots+n^2=n(n+1)(2n+1)/6$
% \item $1+8+27+\cdots+n^3=n^2(n+1)^2/4$
\item $1+2+4+8+\cdots+2^{n-1}=2^n-1$
\end{exes}
\begin{ans}
\begin{exes}
\item For the $n=1$ base step note that the sum on the left
  has the single term~$1$
  while the right side is $1\cdot(1+1)/2$, which also equals~$1$.

  For the inductive step take the inductive hypothesis 
  that the statement is true for $n=1$, 
  \ldots\,, $n=k$ and consider $n=k+1$.
  We have 
  $1+2+\cdots+k+(k+1)=k(k+1)/2+(k+1)=(k+1)\cdot(k/2+1)=(k+1)\cdot(k+2)/2$, 
  as required.  
  (The first equality results from applying the inductive hypothesis to 
  the $n=k$ case.) 
\item The $n=1$ base step is that the left side has the single term~$1$
  while the right side is $1\cdot(1+1)\cdot(2\cdot 1+1)/6$, and the 
  two are equal.

  For the inductive step assume that the statement is true for 
  $n=1$, \ldots\,, $n=k$ and consider $n=k+1$.
  Applying the inductive hypothesis in the $n=k$ case and reducing gives
  $1+4+9+\cdots+k^2+(k+1)^2=k(k+1)(2k+1)/6+(k+1)^2
    =(k+1)\cdot [k(2k+1)/6+(k+1)]
    =(k+1)\cdot [k(2k+1)+6(k+1)]/6
    =(k+1)\cdot [2k^2+7k+6]/6
    =(k+1)(k+2)(2(k+1)+1)/6$,
  as required.
% \item The base step is~$n=1$.  
%   The left side has the single term $1$ while the right side is 
%   $1^2(2)^2/4$, so they are equal.

%   For the inductive step assume that the statement is true when $n=1$, 
%   \ldots\,, $n=k$.
%   Then 
%    $1+8+27+\cdots+k^3+(k+1)^3
%     =k^2(k+1)^2/4+(k+1)^3
%     =(k+1)^2\cdot [(k^2/4)+(k+1)]
%     =(k+1)^2\cdot (k^2+4k+4)/4
%     =(k+1)^2(k+2)^2/4$. 
\item The $n=1$ base step has a sum on the left with a single term, $1$.
The expression on the right is $2^1-1=1$, and they are equal.

The inductive hypothesis is that 
the statement is true for the cases $n=1$, \ldots\,, $n=k$.
The $n=k+1$ summation is
$1+2+4+\cdots+2^{k-1}+2^k$, 
and application of the inductive hypothesis in the $n=k$ case gives
$(2^k-1)+2^k=2\cdot 2^k-1=2^{k+1}-1$, as required. 

(\remark we could instead take the base step to be
$n=0$, giving an empty summation that totals to $0$, and an expression
on the right of~$2^0-1=0$.)   
\end{exes}
\end{ans}
\end{ex}

\begin{ex}
Prove by induction, for $a,b,r\in\R$.
\begin{exes}
\item \notetext{Arithmetic series}
  $b+(a+b)+(2a+b)+\cdots+((n-1)a+b)=(n(n-1)/2)\cdot a+n\cdot b$
\item \notetext{Geometric series}
  $1+r+r^2+r^3+\cdots+r^n=(r^{n+1}-1)/(r-1)$ for $r\neq 1$
\end{exes}
\begin{ans}
\begin{exes}
\item The base step is~$n=1$.
The sum on the left has one term, $b$, while the expression on the right is     
$0\cdot a+1\cdot b$, so the two sides are equal.

For the inductive step assume that the statement holds when $n=1$, 
\ldots\,, $n=k$ and consider the $n=k+1$~case.
We have
$b+(a+b)+(2a+b)+\cdots+((k-1)a+b)+(ka+b)
=[(k(k-1)/2)\cdot a+k\cdot b]+(ka+b)
=[(2k+(k-1)k)/2]\cdot a+[k+1]\cdot b
=((k+1)(k)/2)\cdot a+(k+1)\cdot b$,
as required. 

\item The $n=0$ base step has the single term~$1$ in the left summation and
  $(r^1-1)/(r-1)$ on the right, and they are equal.

  For the inductive step assume that the statement is true for 
  $n=0$, \ldots\,, $n=k$.
  The $n=k+1$ case is
  $1+r+r^2+r^3+\cdots+r^k+r^{k+1}
  =(r^{k+1}-1)/(r-1)+r^{k+1}
  =[r^{k+1}-1+r^{k+1}(r-1)]/(r-1)
  =[r\cdot r^{k+1}-1]/(r-1)
  =(r^{k+2}-1)/(r-1)$ for $r\neq 1$.
\end{exes}
\end{ans}
\end{ex}

\begin{ex}
Prove by induction that $n<2^n$ for all $n\in\N$.  
\begin{ans}
The $n=0$ base case is that $0$ is less than~$2^0$, which is true.

For the inductive step assume that the statement holds when 
$n=0$, \ldots\,, $n=k$ and  consider case~$n=k+1$.
We have $k+1<2^k+1\leq 2^{k+1}$ (the second holds because $2^k<2^{k+1}$). 
\end{ans}
\end{ex}

\begin{ex}
Prove that $n+1$-term sums of reals commute
$a_0+a_1+\cdots+a_{n-1}=a_{n-1}+\cdots+a_0$ for all $n\geq 1$,
starting from the assumption that sums of two terms commute.
\begin{ans}
The $n=1$ base step is the commutativity assumption $a_0+a_1=a_1+a_0$.

For the inductive step assume the statement is true for all 
sums of~$n$ terms with 
with $1\leq n\leq k$, and consider $n=k+1$.
We have 
$a_0+a_1+\cdots+a_{k-1}+a_k
=(a_0+a_1+\cdots+a_{k-1})+a_k
=a_k+(a_0+a_1+\cdots+a_{k-1})$ with the second equality coming from
two-term commutativity.
By the inductive hypothesis that is equal to 
$a_k+(a_{k-1}+\cdots+a_0)=a_k+a_{k-1}+\cdots+a_0$.
\end{ans}
\end{ex}

\begin{ex}
The sequence of \definend{Fibonnacci numbers} is
$0,1,2,3,5,8,13, \ldots$\,, defined by the condition that 
the next number is the sum of the 
two prior numbers $f_{n+1}=f_n+f_{n-1}$, and with initial conditions
$f_0=0$ and~$f_1=0$.
What is wrong with this argument purporting to show that
all Fibonnacci numbers are even?
``The $n=0$ base case is clear.  For the inductive step, assume the statement 
is true for all cases up to and including $n=k$.
By definition 
the next case $f_{k+1}$ is the sum of the two prior numbers, which by
the inductive hypothesis are both even.  
Thus their sum is even.''   
\begin{ans}
The argument does not completely cover the $n=k+1$ case.
In that case, if $k=0$ the expression $f_{n+1}=f_n+f_{n-1}$ is undefined.  
\end{ans}
\end{ex}

\begin{ex}
Prove each by induction.
\begin{exes}
\item For all $n\in\N$, the number~$k^2+k$ is even.
\item For all $n\geq 2$ the number $n^3-n$ is divisible by $6$.
\item If $n\in\N$ then $4\divides 13^n-1$.
\item If $n\in\N$ then
    $(1+\sfrac{1}{1})\cdot(1+\sfrac{1}{2})\,\cdots\,(1+\sfrac{1}{n})=n+1$.
\end{exes}
\begin{ans}
\begin{exes}
\item For the $n=0$ base step observe that $0^2+0$ is even.
  For the inductive step assume the statement for $n=0$, \ldots\,, $n=k$
  and consider the $n=k+1$ case.
  We have $(k+1)^2+(k+1)=k^2+2k+1+k+1=(k^2+k)+(2k+2)$. 
  By the inductive hypothesis $k^2+k$ is even, and clearly $2k+2$ is even, 
  so the sum is even.
\item The base step is $n=2$.
  Since $6$ divides $2^3-2=8-2$, the statement holds in this case.

  For the inductive step assume that the statment is true for 
  the cases $n=0$, \ldots\,, $n=k$.
  In the $n=k+1$ case, consider 
  $(k+1)^3-(k+1)=(k^3+3k^2+3k+1)-(k+1)=(k^3+3k^2+3k)-k$.
  The inductive hypothesis gives that $6$ divides $(k^3-k)$ so we will
  be finished if we show it divides  $3k^2+3k$.
  We have $3k^2+3k=3\cdot k(k+1)$, and since
  $k(k+1)$ is even (this was shown in the prior item),
  the product is divisible by $6$.  
\item The $n=0$ base step is clear, since four divides $13^0-1=0$.
  For the inductive step assume that the statement is true for all cases 
  with $0\leq n\leq k$ and consider the $n=k+1$ case.
  We have $13^{k+1}-1=(13^{k+1}-13)+(13-1)=13(13^k-1)+12$.
  By the inductive hypothesis the first term is divisible by~$4$, while the
  second term is obviously divisible by~$4$, and so the statement holds in 
  this case.

  \remark
  This illustrates that 
  sometimes when you have finish a proof by induction, 
  while you now are sure that the statement is true, 
  you can nonetheless be left with the sense
  that you are not sure really \emph{why} it is true.
  For example, you can show that this statement holds in a 
  way that gives more intuition by plugging $13$ into the formula for a
  geometric series. 
\item The base step is a product with $n=1$~term.
  The left side is $(1+\sfrac{1}{1})=2$ while the right side is $1+1=2$,
  and they are equal.

  Assume the inductive hypothesis, that the statement is true for
  $n=1$, \ldots\,, $n=k$ and consider the $n=k+1$ case.
  We have
  $(1+\sfrac{1}{1})\cdot(1+\sfrac{1}{2})\,\cdots\,(1+\sfrac{1}{k})\cdot(1+\sfrac{1}{k+1})
  =
  (k+1)\cdot(1+\sfrac{1}{k+1})
  =(k+1)+(k+1)/(k+1)
  =k+2$.
\end{exes}
\end{ans}
\end{ex}

\noindent
Be aware that while many induction arguments use the inductive 
hypothesis only in the $n=k$ case,
some break from that pattern.

\begin{ex}
The game of Nim starts with two piles of $n$~chips.
Two players take turns picking a pile and removing 
some nonzero number of chips from that pile. 
The winner is the player who takes the final chip.
Prove by induction on~$n$ that the second player always wins by
playing this way: whatever number of chips the first player removes
from one pile, the second player removes the same number from the other pile.
\begin{ans}
The base step is where the two piles have $n=1$~chips.
The first player must pick a pile and must remove a chip, leaving one chip
in one pile, so the second player wins.

For the inductive step assume that the strategy wins when there are two piles
with $n=1$, \ldots\,, $n=k$~chips and consider two piles with
$k+1$~chips.
The first player picks a pile and removes some nonzero number of chips.
If the second player removes the same number of chips from the other
pile then we have reduced to a game with equal-sized piles, each
with~$k$ or fewer chips, which the inductive hypothesis says
is a win for the second player.  
\end{ans}
\end{ex}

\begin{df}
The \definend{principle of mathematical induction} is that a
statement is true for all natural numbers if it
meets two conditions: the base step that the statement is true for some
initial number~$j\in\N$,
and the inductive step that for any $k\in\N$, 
if the statement is true for 
all natural numbers $n$ with $j\leq n\leq k$ then the
statement is also true for~$k+1$.  
\end{df}

\noindent (You may see the two reduced to a single condition: 
if the statement is true for all natural numbers less than~$k$
then the statement is also true for~$k$.
This formulation covers the base step by folding it into the 
implication because
the `if' part\Dash that the statement is true for all numbers prior to
the initial number\Dash is vacuously true, so the truth of the implication
follows only from the truth of the `then' clause.
Here we retain the base step, preferring to be explicit.)

\begin{df}
The \definend{well-ordering principle} 
(or the \definend{least number principle})
is that any nonempty 
subset of the natural
numbers has a least element.  
\end{df}

\begin{ex}
Show that the principle of induction implies the least number 
principle.
\hint
use induction to prove that if a set of natural numbers does not
have a least element then that set is empty.
\begin{ans}
We shall use induction to prove for all $n\in\N$ that if a set~$A$ 
of natural numbers has no
least element then $A$ does not contain~$n$.

The base case is easy since if $A$ were to contains~$0$ then it would
clearly have a least element.
For the inductive step assume that the statement is true in the cases
$n=0$, \ldots\,, $n=k$ and consider the statement in the case~$n=k+1$.
If~$A$ has no least element and~$A$ does not contain any of $0$, \ldots,~$k$ 
then~$A$ cannot contain~$k+1$ either, since it would be least.   
\end{ans}
\end{ex}





% .....................................
\section{Division}
\begin{ex} \notetext{Division Theorem} We prove that 
where $a$ and $b>0$ are integers there are integers $q$ and~$r$
such that $a=bq+r$ and $r\in\set{0,\ldots,b-1}$,
breaking the argument into a few steps.
\begin{exes} 
\item Show that the statement is true for $a=0$.
  Show also that if the statement is true for~$a>0$ then it is true
  for~$a<0$. 
\item Prove the statement for $a>0$.
  \hint you can consider the set $\setbuilder{a-bq}{q\in\Z}$, note that
  because it has positive elements then by the Least Number principle
  it must have a smallest positive
  element, and show that this smallest positive element is the desired~$r$.
\item
  Prove that the $q$ and~$r$ are unique.
% \item 
% What to do if $b\leq 0$?
\end{exes}
\begin{ans}
\begin{exes}
\item
  If $a=0$ then the statement holds with $q=0$ and~$r=0$.
  Next assume that the statement holds for any positive~$a$ 
  and consider a negative~$a$.
  Then since $-a$ is positive we have that there exist 
  $q\in\Z$ and $r\in\set{0,\ldots,b-1}$ with $-a=bq+r$.
  Multiplying through by $-1$ gives $a=b(-q)+r$.
\item We follow the hint.
  Consider the set $E=\setbuilder{a-bq}{q\in\Z}$.
  Because $a>0$, the element of~$E$ associated with $q=0$ is positive.
  By the Least Number Principle, $E$ has a smallest positive element.
  Call it~$r$.
  We will be finished if we show that~$r\in\set{0, \ldots , b-1}$.

  So suppose, to get a contradiction, that this number~$r$ is not in the set 
  $\set{0, \ldots , b-1}$.
  Since $r$ is an element of~$E$ there must be some associated
  $q_r\in\Z$ such that $r=a-b\cdot q_r$.
  The assumption that $r\notin\set{0, \ldots , b-1}$ gives that $r\geq b$
  and so that $r-b$ is a positive integer.
  Then $r-b=a-b\cdot (q_r-1)$ and so $r-b\in E$.
  This contradicts that~$r$ is the least element of~$E$ that is positive.
\item Suppose that $q_0,r_0\in\Z$ and $q_1,r_1\in\Z$ are such that
  $a=bq_0+r_0$ where $r_0\in\set{0, \ldots, b-1}$, and also
  $a=bq_1+r_1$ where $r_1\in\set{0, \ldots, b-1}$.
  Subtract to get $0=b\cdot(q_0-q_1)+(r_0-r_1)$ and $-b<r_0-r_1<b$.
  Rearrange the equation $-b\cdot(q_0-q_1)=(r_0-r_1)$,
  and divide by $-b$ to get $q_0-q_1=(r_0-r_1)/(-b)$.
  Thus  $-1<q_0-q_1<1$, and since $q_0-q_1\in\Z$ we have $q_0-q_1=0$.
  With that the equation $q_0-q_1=(r_0-r_1)/(-b)$ shows that $r_0-r_1=0$.
\end{exes}
\end{ans}
\end{ex}


\begin{df}
In the  $a=bq+r$ of the Division Theorem, 
$a$ is the \definend{dividend} and
$b$ is the \definend{divisor} while 
$q$ is the \definend{quotient} and~$r$ is the \definend{remainder}.  
\end{df}

Observe that in the Division Therem, $r=0$ if and only if $b\divides a$. 
From grade school we know an effective procedure, an algorithm, to 
determine the quotient and remainder.

\begin{df}
Where $b>0$ then the \definend{modulus} $a\bmod b$ 
is the remainder when $a$ is divided by~$b$.
Two numbers $a,c$ are \definend{congruent modulo $b$} $a\equiv c\pmod b$ 
if they have the same modulus with respect to~$b$.
\end{df}

\begin{ex}\pord
\begin{exes}
\item $a\bmod b=b\bmod a$
\item $a\bmod b=-a\bmod b$
\item $b\bmod b=1$    
\end{exes}
\begin{ans}
\begin{exes}
\item This is false.
  A counterexample is that $2\bmod 1=0$ but $1\bmod 2=1$.
\item This is false.
  A counterexample is that $1\bmod 3=0$ but $-1\bmod 3=2$.
\item This is false;
  $1\bmod 1=0$.     
\end{exes}
\end{ans}
\end{ex}

\begin{ex}
Prove that $a\equiv b\pmod m$ if and only if $m\divides (a-b)$,
that is, if and only if $a$ and~$b$ differ by a multiple of~$m$.  
\begin{ans}
If $a\equiv b\pmod m$ if and only if they leave the same remainder,
$a=mq_a+r$ and~$b=bq_b+r$ for some $q_a,q_b\in\Z$.
That's equivalent to $a-b=m\cdot(q_a-q_b)$, 
which is true if and only if $a-b$ is divisible by~$m$.
\end{ans}
\end{ex}

\begin{ex}
Let $a,b,c,d,m$ be integers with $m>0$ and
$a\equiv b\pmod m$ and $c\equiv d\pmod m$.
Prove each.
\begin{exes}
\item $a+c\equiv b+d\pmod m$
\item $ac\equiv bd\pmod m$
\item $a^n\equiv b^n\pmod m$ for all $n\in\Z^+$.
\end{exes}
\begin{ans}
\begin{exes}
\item By the prior exercise, $a\equiv b\pmod m$ holds iff 
  $(a-b)$ is a multiple of~$m$, 
  so $a-b=mi$ for some~$i\in\Z$.
  Similarly, $c\equiv d\pmod m$ holds iff $m\divides (c-d)$, 
  so $c-d=mj$ for some~$j\in\Z$.
  Adding gives $(a+c)-(b+d)=m(i+j)$, which holds if and only if
  $m\divides (a+c)-(b+d)$, which in turn is equivalent to
  $a+c\equiv b+d\pmod m$.
\item We have that $a\equiv b\pmod m$ holds if and only if
  $a$ and~$b$ differ by a multiple of~$m$, so 
  $a=b+mi$ for some~$i\in\Z$. 
  Similarly $c=d+mj$ for some~$j\in\Z$.
  Multiplying gives $ac=bd+m\cdot(id+mij+jb)$, 
  which is equivalent to $ac\equiv bd\pmod m$. 
\item We will show this by induction on the power~$n$.
  The $n=1$ base step is true by the introductary assumption that 
  $a\equiv b\pmod m$.
  For the inductive step assume that the statement is true in the cases
  $n=1$, \ldots\,, $n=k$.
  The $k+1$ case is an application of the prior item with 
  $a^k\cdot a$ on the left of the equivalence and $b^k\cdot b$ on the
  right.
\end{exes}
\end{ans}
\end{ex}

\begin{df}
For any real number~$x$,
its \definend{floor} $\floor{x}$ is
the greatest integer less than or equal to~$x$.  
\end{df}

\begin{ex} Prove each.
\begin{exes} 
\item The quotient when $a$ is divided by $b$ is $\floor{a/b}$.
\item $a =b\cdot\floor{a/b}+a\bmod b$.    
\item $b\cdot(a\bmod m)=(ba)\bmod{(bm)}$.    
\end{exes}
\begin{ans}
\begin{exes}
\item The quotient~$q$ when $a$ is divided by~$b$ is defined by the
  property that $a=bq+r$ where~$r\in\set{0,\ldots,b-1}$.
  So to show that $\floor{a/b}$ is the quotient we must show that 
  the remainder~$a-b\floor{a/b}$
  lies in the set $\set{0,\ldots\,,b-1}$, that is, 
  we must show that $\floor{a/b}$ has the property 
  that $0\leq a-b\floor{a/b}\leq b-1$.
  
  By the definition of floor, $x-1<\floor{x}\leq x$ for any real~$x$. 
  Thus we have
  $(a/b)-1< \floor{a/b}\leq a/b$ and multiplication by~$b$ gives
  $a-b< b\cdot\floor{a/b}\leq a$.
  Therefore $b\cdot\floor{a/b}$ is at a minimum $0$ less than~$a$, and
  at a maximum $b-1$ less than~$a$, as required.
\item This is immediate from the prior item and the 
  definition of $a\bmod b$ as the remainder.
\item Where $a, b, m\in\Z$ and $m>0$ we have
  $b\cdot(a\bmod m)=b\cdot(a-m\floor{a/m})
  =ba- bm\floor{a/m}
  =ba- bm\floor{ba/bm}
  =ba\bmod bm$.    
\end{exes}
\end{ans}
\end{ex}


\begin{ex}\notetext{Pigeonhole principle}  Prove each.
\begin{exes}
\item For a finite list of numbers,
  the maximum is at least as big as the average.
\item If you put $n$~many papers into fewer than $n$~many 
  pigeonholes then at least one hole gets at least two papers.    
\end{exes}
\begin{ans}
\begin{exes}
\item Let the numbers be $p_0$, \ldots\,, $p_{n-1}$.
  The average is $a=(p_0+\cdots+p_{n-1})/n$ and so 
  $p_0+\cdots+p_{n-1}=na$.
  If each number were less than average $p_i<a$ then the sum
  $p_0+\cdots+p_{n-1}$ would be less than $na$, so at least
  one must be at least average.
\item Form the list where $p_i$ is the in the $i$-th pigeonhole.
  The average number of papers per hole is greater than~$1$, 
  so the maximum number is greater than~$1$.
  Since each $p_i$ is a natural number, the maximum must be at least~$2$.      
\end{exes}
\end{ans}
\end{ex}







% .....................................
\section{Common divisors and common multiples}

\begin{df}
An integer is a \definend{common divisor} of two other integers if it
divides both of them.
The \definend{greatest common divisor} of two integers 
is the largest of their common divisors,
except that we take the greatest common divisor of $0$ and $0$ 
to be $0$.
We write $\gcd(a,b)$ for the greatest common divisor
of $a$ and~$b$.
\end{df}

\begin{ex}
Prove.
\begin{exes} 
\item \notetext{Existence} Any $a,b\in\Z$ have a greatest common divisor.
\item \notetext{Commutativity} $\gcd(a,b)=\gcd(b,a)$
\item If either number is nonzero then 
  $0\leq \gcd(a,b)\leq\min(\absval{a},\absval{b})$.
  If both are nonzero then the first
  inequality is strict.
\item If $d$ is a common divisor of $a$ and~$b$ then so is~$\absval{d}$.
  Thus common divisors are limited to the interval from $-\gcd(a,b)$
  to $\gcd(a,b)$.
\item For any $a\in\Z$, both $\gcd(a,a)=\absval{a}$ 
  and~$\gcd(a,0)=\absval{a}$.
\item $\gcd(a,b)=\gcd(\absval{a},\absval{b})$
\end{exes} 
\begin{ans}
\begin{exes}
\item If $a=b=0$ then $\gcd(a,b)$ exists. 
  If $a=0$ and~$b\neq 0$ then, since every number divides~$0$, the set of 
  common divisors of the two is the set of divisors of~$b$, 
  the largest of which is~$\absval{b}$.
  In the same way, if $a\neq 0$ and~$b=0$ then the greatest common divisor 
  is~$\absval{a}$.

  So suppose that each number is nonzero.
  In this case the number~$1$ is a common divisor, so when we establish that 
  there is a common divisor that is greatest we will know it is positive.
  To establish that, note that each number has finitely many divisors and
  so the overlap\Dash the set of divisors common to both\Dash is finite.
  A finite set of integers must have an element that is greatest.
\item The two sets 
  $\setbuilder{m\in\Z}{\text{$m\divides a$ and $m\divides b$\,}}$
  and 
  $\setbuilder{n\in\Z}{\text{$n\divides b$ and $n\divides a$\,}}$
  are equal and so have the same greatest element. 
  That is, the definition is symmetric in $a$ and~$b$.
\item If $a=b=0$ then $\gcd(a,b)=0$. 
  If $a=0$ and~$b\neq 0$ then the set of 
  common divisors of the two equals the set of divisors of~$b$, 
  the greatest of which $\gcd(a,b)=\absval{b}$ is larger than zero.
  In the same way, if $a\neq 0$ and~$b=0$ then the greatest common divisor 
  is~$\absval{a}>0$.

  If each number is nonzero then~$1$ is a common divisor so 
  the greatest common divisor is greater then zero.
  For the other inequality,
  where $d$ is a common divisor, 
  because it divides~$a$ we have that $d\leq\absval{a}$ and
  because it divides~$b$ we have that $d\leq\absval{b}$.
  Thus $d$ is less than or equal to the mimimum of the two. 
\item If $d$ is nonnegative then the statement is trivial.
  If $d$ is negative then
  this is immediate from \ref{ex:InteractionOfParityWithSign},
  which says that if $d$ divides a number then so does $-d$.
\item The Divisibility Properties in \ref{ex:DivisibilityProperties}
  include that for any~$a\neq 0$ the largest divisor is $\absval{a}$.
  In the case that $a=0$ the definition of greatest common divisor 
  is that $\gcd(0,0)=0=\absval{0}$.

  For the other half, 
  every number divides zero, so the condition that $\gcd(a,0)$ be a common
  divisor reduces to the condition that it divide~$a$.
  As in the previous paragraph, one of the Divisibility Properties  
  is that for any nonzero integer~$a$ the largest divisor is $\absval{a}$.
  If $a=0$ then the equation is also true.
\item If both numbers are zero then the statement is clearly true.
  For the other case note that for any
  integer $c$, a number is a divisor of $c$ if and only if it divides 
  the absolute value~$\absval{c}$.
  Thus, the set of divisors of both~$a$ and~$b$ 
  is the same as the set of divisors of both~$\absval{a}$ and~$\absval{b}$, \
  and therefore the two sets have the same greatest element.
\end{exes}
\end{ans}
\end{ex}

\begin{df}
Two numbers are \definend{relatively prime} 
(or \definend{coprime}) if their greatest common divisor is $1$.
\end{df}

\noindent Sometimes $\gcd(a,b)=1$ is denoted $a\perp b$.

\begin{df}
The \definend{least common multiple} of two numbers $\lcm(a,b)$ 
is the smallest natural number that is a multiple of each.
\end{df}

\begin{ex} Prove.
\begin{exes}
\item \notetext{Existence} Any two integers have a least common multiple.
  Nonzero integers have a positive lcm.
\item \notetext{Commutativity} $\lcm(a,b)=\lcm(b,a)$
\end{exes}
\begin{ans}
\begin{exes}
\item The absolute value of the product of the two is a common multiple,
  and is positive if neither number is zero.
  So the set of nonnegative common multiples is not empty.
  Any nonempty set of natural numbers has a least element.
\item The definition is symmetric in $a$ and~$b$.
  That is, the two sets
  $\setbuilder{m\in\Z}{\text{$a\divides m$ and $b\divides m$}}$
  and     
  $\setbuilder{m\in\Z}{\text{$b\divides m$ and $a\divides m$}}$
  are equal, and so have the same smallest nonnegative element.
\end{exes}
\end{ans}
\end{ex}

% ========== Start Euclid's argument of lemma =========== 
\begin{euclidproof}
\begin{ex}
For each pair $a,b$ compute $\gcd(a,b)$, $\lcm(a,b)$, $ab$, and
$\gcd(a,b)\cdot\lcm(a,b)$.
\begin{exes}
% \item $a=6$, $b=15$
\item $a=18$, $b=35$  
\item $a=20$, $b=-14$
\end{exes}
\begin{ans}
\begin{exes}
% \item $\gcd(a,b)=3$, $\lcm(a,b)=30$, $ab=90$, $\gcd(a,b)\cdot\lcm(a,b)=90$
\item $\gcd(a,b)=1$, $\lcm(a,b)=630$, $ab=630$, $\gcd(a,b)\cdot\lcm(a,b)=630$
\item $\gcd(a,b)=2$, $\lcm(a,b)=140$, $ab=-280$, $\gcd(a,b)\cdot\lcm(a,b)=280$
\end{exes}
\end{ans}
\end{ex}

\begin{ex} Let $a$ and~$b$ be integers.
\begin{exes}
\item Prove that any common multiple of two nonzero
   numbers is divisible by their 
  least common multiple.
  \hint apply the Division-Remainder theorem with the divisor $\lcm(a,b)$.
\item Prove that the product of two nonzero numbers is divisible by their 
  least common multiple.
\item Let $d$ be defined by 
  $ab=\lcm(a,b)\cdot d$, except that if either $a$ or~$b$ is zero
  then $d=\max\set{\absval{a},\absval{b}}$.
  Prove that any common divisor of $a$ and~$b$ also divides~$d$.
\item Prove that $\gcd(a,b)\leq\absval{d}$.
\item Prove that $\absval{d}=\gcd(a,b)$. 
\item Prove that any common divisor of two numbers also divides their
  greatest common divisor.
\item Prove that $\lcm(a,b)\cdot\gcd(a,b)=\absval{ab}$. 
\end{exes}  
\begin{ans}  %% TODO check the zero and negative cases.
\begin{exes}
\item Let $\ell=\lcm(a,b)$ and suppose that $m$ is a common multiple
  of the two numbers.

  Dividing $m$ by~$\ell$ gives 
  $m=\ell\cdot q+r$ with $0\leq r< \ell$.
  In $r=m-\ell q$ 
  each term on the right is a multiple
  of both $a$ and~$b$ and so 
  $r$ is a common multiple of $a$ and~$b$.
  Because the remainder $r$ is less than the least common multiple~$\ell$,
  we conclude that $r=0$ and so $\ell\divides m$.
\item The product $ab$ is a common multiple of the two.
  Apply the prior item.
\item If $a=0$ and~$b=0$ then $d=0$, and any number divides~$0$.
  If one of $a$ and~$b$ is zero and one is not then without loss of generality
  we can take $a=0$, $b\neq 0$.
  Since all numbers divide~$0$ the condition that a number~$c$ 
  is a common divisor of $a$ and~$b$
  becomes just that $c$ divides~$b$.
  So in this case we must show that any divisor of $b$ divides the 
  absolute value of~$b$, which we know to be true by the divisibility 
  properties~\ref{ex:DivisibilityProperties}.

  The remaining case is that both numbers are nonzero.
  First note that in this case,
  by the previous item, the least common multiple of $a,b\in\Z$ divides
  the product~$ab$.
  So $d$ is an integer for all pairs $a,b$ of nonzero numbers
  and we can sensibly apply the definition of `divides' to
  $a$ and~$d$, and to $b$ and~$d$.
  
  Let~$c$ be a common divisor so that $a=c\cdot k_a$ and $b=c\cdot k_b$.
  The number $ck_ak_b$ is a common multiple of $a$ and~$b$. 
  By the first item it is divisible by the least common multiple  
  $\ell\divides ck_ak_b$.
  Multiplication by $cd$ gives $\ell\cdot cd\divides ck_ak_b\cdot cd$.
  Regroup to $(\ell c)d\divides (ck_a)(ck_b)d$, which is
  $ab\cdot c\divides ab\cdot d$, and therefore by cancellation $c\divides d$,
  as desired.
\item The number~$d$ is zero only if both $a$ and~$b$ are
  zero.
  In this case the equation is true: $\gcd(0,0)=0\leq d=0$.

  In the $d\neq 0$ case we can apply the 
  Divisibility property~\ref{ex:DivisibilityProperties} that the
  largest divisor of a nonzero number is the absolute value of that number.
  By the prior item, any common divisor of $a$ and~$b$ will divide~$d$.
  One such common divisor is $\gcd(a,b)$.
  Thus $\gcd(a,b)\leq\absval{d}$.
\item
  After the previous item, we need only show that $\gcd(a,b)\geq\absval{d}$. 
  Because $\ell=\lcm(a,b)$ is a common multiple of the two, 
  both $\ell/a$ and~$\ell/b$ are integers. 
  Rewriting the equation~$ab=\ell d$ to 
  $a=(\ell/b)\cdot d$ shows that~$d$ is a divisor of~$a$, and similarly
  it is a divisor of~$b$.
  Thus $d$ is a common divisor and so $\absval{d}\leq \gcd(a,b)$.
\item This is immediate from the prior items.
\item This is immediate from the prior items.
\end{exes}
\end{ans}
\end{ex}

\begin{ex}  \label{ex:EuclidsLemma}
\begin{exes} 
\item 
  Prove that
  dividing by the greatest common divisor leaves no common divisors:
  $a/\gcd(a,b)$ and $b/\gcd(a,b)$ are relatively prime.
\item \notetext{Euclid's Lemma}  
  If $a$ and~$b$ are relatively prime then $a\divides bc$ implies that 
  $a\divides c$.
\end{exes}
\begin{ans}
\begin{exes}
\item
  Let $\gcd(a,b)$ be~$d$ and suppose that $\gcd(a/d,\,b/d)=c$.
  Then $c\cdot k_a=a/d$ and~$c\cdot k_b=b/d$ for some numbers $k_a, k_b\in\Z$.
  Thus $cd\cdot k_a=a$ and $cd\cdot k_b=b$ and so $cd$ is a common divisor
  of $a$ and~$b$. 
  But $d$ is the greatest of the common divisors and so $c=1$, 
  or else $cd$ would be a common divisor
  that is larger than the greatest common divisor.    
\item
  Since $a\divides bc$ we know that $a$ is nonzero.
  If $b=0$ then because $\gcd(a,b)=1$ we have that $\absval{a}=1$ 
  and therefore $a\divides c$.

  In the $b\neq 0$ case, the assumption that $\gcd(a,b)=1$ 
  along with the equation $\absval{ab}=\gcd(a,b)\cdot\lcm(a,b)$ implies that 
  $\lcm(a,b)=\absval{ab}$.
  Because $a\divides bc$, the product $bc$ is a common 
  multiple of $a$ and~$b$ and so it is divisible by the least common multiple
  $\lcm(a,b)\divides bc$, giving that $ab\divides bc$.  
  Cancellation then gives that $a\divides c$. 
\end{exes}
\end{ans}
\end{ex}
% ========== End Euclid's argument of lemma =========== 
\end{euclidproof}
% ========== Start Bezout argument of lemma =========== 
\begin{bezoutproof}
% TODO check answers
\begin{ex}\notetext{Euclid's algorithm}
Prove that if $a=bq+r$ then $\gcd(a,b)=\gcd(b,r)$.  
\begin{ans}
Because $a=bq+r$ any common divisor of $b$ and~$r$ also divides~$a$, 
by Linearity~\ref{ex:DividesAndLinearCombinations}.
Rewrite the equation as $r=a-bq$ and then for the same reason any
common divisor of $a$ and~$b$ also divides~$r$.
So the pairs $b,r$ and $a,b$ have the same common divisors, and
therefore the same greatest common divisor.
\end{ans}
\end{ex}

The algorithm associated with this result finds the greatest common
divisor for any $a,b\in\Z$ with $b\neq 0$.  
For instance, to find $\gcd(803,154)$ divide the larger by
the smaller $803=154\cdot 5+33$ and then the above result shows that  
$\gcd(803,154)=\gcd(154,33)$.
Next, since $154=33\cdot 4+22$ the above result gives
$\gcd(154,33)=\gcd(33,22)$.
By eye we spot the answer of $11$ but continuing as though we hadn't noticed
we get $33=22\cdot 1+11$, so $\gcd(33,22)=\gcd(22,11)$.
Finally, $22=11\cdot 2+0$ gives that 
$\gcd(22,11)=11$, so the algorithm terminates with $\gcd(803,154)=11$.

We can reverse this calculation.
From $33=22\cdot 1+11$ we can  
express the greatest common divisor~$11$ as a combination 
$11=1\cdot 33-1\cdot 22$.
Next, 
the equation $154=33\cdot 4+22$ lets us express
the $11$ as a combination 
$11=1\cdot 33-1\cdot (154-4\cdot 33)=-1\cdot 154+5\cdot 33$
of the pair $154,33$.
Backing up still further, the equation 
$803=154\cdot 5+33$
gives $11=-1\cdot 154+5\cdot (803-5\cdot 154)=5\cdot 803-26\cdot 154$, so 
we can express the greatest common divisor as a combination of the pair
$803,154$ of numbers that began the Euclid's algorithm example.


\begin{df}
A number $c$ is a \definend{linear combination} of two others $a$ and~$b$
if it has the form $c=a\cdot m+b\cdot n$ for some $m,n\in\Z$.  
\end{df}

\begin{ex}
Use Euclid's Algorithm to find the greatest common divisor of the two.
Use that calculation to express the greatest common divisor as a 
linear combination of the two.
\begin{exes}
\item $15$, $25$
\item $48$,$732$  
\end{exes}
\begin{ans}
\begin{exes}
\item To get the greatest common divisor the first step is
  $25=15\cdot 1+10$ followed by $15=10\cdot 1+5$ and finally
  $10=5\cdot 2+0$ shows that $\gcd(25,15)=5$.

  Reversing those starts with $5=1\cdot 15-1\cdot 10$.
  Use the equation $25=15\cdot 1+10$ to substitute 
  $5=1\cdot 15-1\cdot(1\cdot 25-1\cdot 15)=-1\cdot 25+2\cdot 15$.
  This expresses $\gcd(25,15)=5$ as a linear combination of
  $25$ and~$15$.
\item Start by dividing the larger by the smaller
  $732=48\cdot 15+12$.
  The next step is $48=12\cdot 4+0$, so $\gcd(732,48)=12$.

  Reversing is trivial:
  $12=1\cdot 732-12\cdot 48$.
\end{exes}
\end{ans}
\end{ex}

\begin{ex}\notetext{B\'ezout's Lemma}  Prove.  \label{ex:Bezout}
\begin{exes}
\item Euclid's algorithm terminates.
\item The greatest common divisors of two numbers is a linear combination of 
the two.
\item The greatest common divisor of two numbers is the smallest positive
number that is a linear combination of the two.
\end{exes}
\begin{ans}
\begin{exes}
\item Since $\gcd(a,b)=\gcd(\pm a, \pm b)$ we can restrict to $a\geq 0$
  and $b>0$.
  Write $a$ as~$a_0$ and~$b$ as~$b_0$.
  The first step of the algorithm divides the larger number by the smaller; 
  without loss of generality we have $a_0=b_0\cdot q_0+r_0$ with 
  $0\leq r_0< b_0$.
  If the remainder~$r$ is not zero, which would mean the algorithm 
  terminated,
  then we next have $b_0=r_0\cdot q_1+r_1$ with $0\leq r_1< r_0$.
  Therefore $0\leq r_1<r_0<b$.

  In this way the remainders $r_i$ form a sequence of positive numbers that
  are falling.
  Such a sequence must be finite so that for some~$i$ 
  an~$r_i$ is zero and the algorithm terminates.
\item The above calculation reversing Euclid's algorithm proves by
  construction that the greatest common divisor can be expressed 
  a combination of the two.
\item   The $a=b=0$ case is separate.
  Here $\gcd(a,b)=0$ by definition and for any $s$ and $t$ we
  have $0=\gcd(a,b)=s\cdot a+t\cdot b=s\cdot 0+t\cdot 0$.

  The other case is that one number or the other is nonzero.
  Consider the set of linear combinations 
  $\mathcal{L}=\setbuilder{sa+tb}{s,t\in\Z}$.
  It has a positive element since not all its elements are~$0$
  (one of $a$ or~$b$ is nonzero and taking $1$ times that element
  plus zero times the other gives a nonzero member), and if it has a 
  negative element then negating the coefficients $s$ and~$t$ gives 
  a positive element.
  Any set of positive integers has a least positive element.
  Call that element~$d\in\mathcal{L}$.

  For any combination $sa+tb$, because the greatest common divisor
  $\gcd(a,b)$ goes into both $a$ and~$b$ it also divides $sa+tb$  
  (from Linearity~\ref{ex:DividesAndLinearCombinations})
  Therefore $\gcd(a,b)\leq d$.

  The prior item shows $d\leq\gcd(a,b)$ and so the two are equal. 

  % Let the two numbers be $a,b\in\Z$; we want to show that there are
  % $s,t\in\Z$ so that $\gcd(a,b)=s\cdot a+t\cdot b$.

  % The $a=b=0$ case is separate.
  % In this case $\gcd(a,b)=0$ by definition and for any $s$ and $t$ we
  % have $0=\gcd(a,b)=s\cdot a+t\cdot b=s\cdot 0+t\cdot 0$.

  % The other case is that either number is nonzero.
  % Consider the set of linear combinations 
  % $\mathcal{L}=\setbuilder{sa+tb}{s,t\in\Z}$.
  % It has a positive element since not all its elements are~$0$
  % (one of $a$ or~$b$ is nonzero and taking $1$ times that element
  % plus zero times the other gives a nonzero member), and if it has a 
  % negative element then negating the coefficients $s$ and~$t$ gives 
  % a positive element.
  % Any set of positive integers has a least positive element.
  % Call that element~$d\in\mathcal{L}$.
  % We will show that $d=\gcd(a,b)$.

  % By the first item any divisor common to $a$ and $b$ also divides 
  % a combination of the two, so $\gcd(a,b)\divides d=sa+bt$, and therefore
  % $\gcd(a,b)\leq d$.

  % For the inequality in the other direction, 
  % we will show that $d$ is a common divisor.
  % To show that $d\divides a$ write $a=dq+r$ with $0\leq r<d$ and
  % substitute: $r=a-dq=a-(sa+tb)\cdot q=(1-s)\cdot a-t\cdot b$.
  % Because~$d$ is the minimal positive combination, and becasue $r<d$,
  % this implies that the remainder~$r$ is zero and so $d\divides a$.
  % In the same way $d\divides b$.
  % As a common divisor, $d\leq\gcd(a,b)$.
\end{exes}
\end{ans}
\end{ex}

\begin{ex}  \label{ex:EuclidsLemma}
Let $a,b\in\Z$ and $m\in\N$. 
Prove each.
\begin{exes}
\item $\gcd(ma,mb)=m\cdot\gcd(a,b)$
\item If $d$ is a common divosor of $a$ and~$b$ then 
  $\gcd(a/d,\,b/d)=\gcd(a,b)/d$.
  This implies that 
  dividing by the greatest common divisor leaves no common divisors:
  if $a$ and~$b$ are nonzero then $a/gcd(a,b)$ and $b/\gcd(a,b)$
  are relatively prime.
\item \notetext{Euclid's Lemma}  
  If $a$ and~$b$ are relatively prime then $a\divides bc$ implies that 
  $a\divides c$.
\end{exes}
\begin{ans}
\begin{exes}
\item If both $a$ and~$b$ are zero then the equation is trivial.
  If one or both numbers are nonzero then by 
  B\'ezout's Lemma~\ref{ex:Bezout}, $\gcd(ma,mb)$ is the least
  positive value of $\setbuilder{s\cdot ma+t\cdot mb}{s,t\in\Z}$.
  This equals $m$ times the least positive member of 
  $\setbuilder{sa+tb}{s,t\in\Z}$, 
  which is $m\cdot\gcd(a,b)$.
\item This is immediate from the prior item on taking $m$ to be~$d$, 
  and also taking $a$ to be~$a/d$ and $b$ to be~$b/d$.     
\item Since $a$ and~$b$ are relatively prime we have $\gcd(a,b)=1$
  and the first item gives that $\gcd(ca,cb)=c$.
  Thus $c=s\cdot ac+t\cdot bc$ for some $s,t\in\Z$, and
  because $a\divides ac$ and~$a\divides bc$ we have by Linearity that
  $a\divides c$.
\end{exes}
\end{ans}
\end{ex}
\end{bezoutproof}
% ========== End Bezout argument of lemma =========== 











% .....................................
\section{Primes}
\begin{df}
An integer greater than~$1$
is \definend{prime} if its only divisors are~$1$ and itself.
A number greater than~$1$ that is not prime is~\definend{composite}.  
\end{df}

\begin{ex} Prove.
\begin{exes}
\item An integer $n>1$ is composite if and only if it has factors $a,b$ 
  such that $1<a,b<n$.  
\item Every number greater than $1$ has a prime divisor.
\item Every composite number $n>1$ has a prime divisor~$p$ 
  with $p\leq \sqrt{n}$.
\item Show that the prior inequality cannot be made strict.     
\end{exes}
\begin{ans}
\begin{exes}
\item The `if' direction, that if it has such factors then it is composite,
  is clear.
  For `only if' assume that $n$ is composite so
  that at least one of its divisors~$a$ satisfies that $1<a<n$.
  Consider $b\in\Z$ such that $ab=n$; we will be finished when we show 
  that $1<b<n$.
  First, $b$ is positive because $a$ and~$n$ are positive.
  Next,~$b$ must be greater than~$1$ because $0<b\leq 1$ 
  implies that $ab\leq a<n$.
  Finally,~$b$ must be less than~$n$ because $1<a$ implies that $b<ab=n$. 
\item We use induction to prove that
  every number greater than one has a prime divisor.
  The base step is~$n=2$, which has a prime divisor, namely~$2$ itself.

  For the inductive step suppose that the statement is true for the cases 
  $n=2$, \ldots, $n=k$ and consider $k+1$.
  If $k+1$ is prime then we are done, the prime divisor is $k+1$~itself.
  Otherwise $k+1$ is composite.
  By the prior item it has factors $a,b$ with $1<a,b<k+1$.
  The inductive hypothesis applies to these numbers, and so~$a$ has at
  least one prime factor, which is then a prime factor of $k+1$.
\item Because~$n>1$ is composite there are numbers~$a,b\in\Z$ with
  $1<a,b<n$.
  If both~$a>\sqrt{n}$ and~$b>\sqrt{n}$ then we would have that
  $a\cdot b>\sqrt{n}\cdot\sqrt{n}=n$,
  so at least one of the factors of~$n$ must be less than or equal 
  to~$\sqrt{n}$.

  We finish by showning that $n$ has a factor in that category that is prime.
  Let $c$ be a factor of~$n$ with $c\leq\sqrt{n}$.
  Then $c$ has a prime factor~$p$.
  This~$p$ is a factor of~$n$ by the Transitivity property. 
  It is 
  less than or equal to~$c$ by the Comparison property and therefore
  is less than or equal to~$\sqrt{n}$.  
\item Take $n=4$.
\end{exes}
\end{ans}
\end{ex}

\begin{ex}[Euclid's Theorem]
There are infinitely many primes.  
\begin{ans}
To obtain a contradition, assume otherwise.
Assume that there are finitely many primes: 
$p_0=2$, $p_1=3$, \ldots\,, $p_{n-1}$.
Consider the number $m=(p_0\cdotp_1\cdots p_{n-1})+1$.

This number is greater than~$1$ because it is greater than 
$p_0\cdotp_1\cdots p_{n-1}$, 
which is a product of $n>0$-many numbers, each of which is greater than~$1$.
Thus~$m$ has a prime factor, which by the assumption is one of the~$p_i$.
But~$m$ is constructed so that dividing it by any~$p_i$ 
leaves a remainder of~$1$.
This is a contradiction, so the assumption that there is a finite
list of primes is impossible.
\end{ans}
\end{ex}

\begin{ex} Suppose that $p$ is a prime.  Prove each.\label{ex:EuclidsOtherLemma}
\begin{exes}
\item If  $p\divides ab$ then either $p\divides a$ or
$p\divides b$.
\item If $p\divides a_0\cdot a_1\cdots a_{n-1}$ then 
$p$ divides at least one~$a_i$.    
\end{exes}
\begin{ans}
\begin{exes}
\item Let $d=\gcd(p,a)$.
  Then $d$ is a positive number such that $d\divides p$ and~$d\divides a$.
  Because $p$ is prime, either $d=p$ or~$d=1$.
  If $d=p$ then $p\divides a$.
  If $d=1$ then Euclid's Lemma~\ref{ex:EuclidsLemma} shows that 
  $p\divides b$.
\item We prove this by induction on the size of the product.
  The base step is $n=1$, that there are two numbers in the product.
  This is proved in the prior item.

  For the inductive step assume that the statement is true for $n=1$, \ldots,
  $n=k$ and suppose that $n=k+1$, that $p\divides a_0\cdots a_{k-1}a_k$.
  Taking $a_0\cdots a_{k-1}$ as~$a$ and $a_k$ as~$b$, the prior item applies
  to show that $p\divides a_0\cdots a_{k-1}$ or~$p\divides a_k$.
  In the latter case we are done while in the former case the
  inductive hypothesis applies to show that $p$ divides one of the factors.
\end{exes}
\end{ans}
\end{ex}


% Gowers: http://gowers.wordpress.com/2011/11/13/why-isnt-the-fundamental-theorem-of-arithmetic-obvious/
% and
% http://gowers.wordpress.com/2011/11/18/proving-the-fundamental-theorem-of-arithmetic/
\begin{ex}[Fundamental Theorem of Arithmetic]  Prove.
\begin{exes}
\item Any number $n>1$ can be written as a product of one or more primes
$n=p_1^{e_1}p_2^{e_2}\cdots p_k^{e_k}$.
\item That factorization is essentially unique:~if 
$n=p_1^{e_1}p_2^{e_2}\cdots p_k^{e_k}$ and the primes
in ascending order $p_1<p_2<\cdots<p_k$ then any other
factorization of~$n$ into a product of primes in ascending order will give the
same result. 
\hint suppose that there are two factorizations into primes $n=p_0\cdots p_{s-1}$
and $n=q_0\cdots q_{t-1}$ in ascending order and use induction on~$s$.     
\end{exes}
\begin{ans}
\begin{exes}
\item We do induction.
For the base step, observe that $n=2$ is the product of one prime. 
For the inductive step assume that the statement holds when $n=2$, \ldots\,, 
$n=k$ and consider~$n=k+1$.
Every number greater than~$1$ factors $k+1=a\cdot b$ into two smaller
numbers.
Because these two are smaller
the inductive hypothesis applies, so each is a product of 
primes.
Then $k+1=ab$ can be written as a product of primes.
\item Assume that $n=p_0\cdots p_{s-1}$ with $s\geq 1$ and
$p_0\leq\cdots \leq p_{s-1}$, 
and also that $n=q_0\cdots q_{t-1}$ with $t\geq 1$ 
and $q_0\leq\cdots \leq q_{t-1}$.
We will show that $s=t$ and that $p_i=q_i$ for each $i$.

We use induction on~$s$.
The base step is~$s=1$ so that $n=p_0$ is prime.
Now $p_0=q_0\cdots q_{t-1}$ and this is a nontrivial factorization of a prime
unless $t=1$.

For the inductive step assume that the factorization is unique for
$s=1$, \ldots\,, $s=k$ and consider the $s=k+1$ case, with
$n=p_0\cdots p_{s-1}\cdot p_s$.   
Assume that there is another prime factorization $n=q_0\cdots q_{t-1}$
for $t\geq 1$ and $q_0\leq\cdots \leq q_{t-1}$.

We first show that $p_s$ equals some $q_i$.
Because $p_s\divides n$ we have $p_s\divides q_0\cdots q_{t-1}$ and so
by the above result~\ref{ex:EuclidsOtherLemma} shows that
$p_s$ divides some $q_i$.
Because $q_i$ is prime this shows that $p_s$ equals~$q_i$,
since primes don't have any divisors other than~$1$ and themselves.

To finish, cancel the primes.
That is, consider 
$n/p_s=p_0\cdots p_{s-1}=q_0\cdots q_{i-1}\cdot q_{i+1}\cdots q_{t-1}$.
There remains at least one prime on the right (by the assumption that $s=k+1$),
so the inductive hypothesis applies. 
Therefore
the ascending sequence of $q$'s without~$q_i$ 
equals the ascending sequence of $p$'s without~$p_s$,
both in length and in members. 
Obviously then the entire sequence of $q$'s equals the entire sequence of
$p$'s, again in length and in individual members. 
\end{exes}
\end{ans}
\end{ex}

\noindent\remark had we included~$1$ among the primes then 
factorization would not be unique 
since to any existing factorization we could add more $1$'s.

\begin{ex} \pord.
% From: http://gowers.wordpress.com/2011/11/13/why-isnt-the-fundamental-theorem-of-arithmetic-obvious/
\begin{exes}
\item $5\cdot 7\cdot 19\neq 3\cdot 11\cdot 17$
\item $47\cdot 863\neq 73\cdot 557$
\item $1357\cdot 4183\neq 1081\cdot 5251$ % due to David Speyer
\end{exes}
\begin{ans}
\begin{exes}
\item All the numbers are prime, and they are different.
\item These numbers are prime, and different.
\item The two sides are equal (the numbers are non-prime).     
\end{exes}
\end{ans}
\end{ex}

% \begin{ex}
% Give (and prove) a condition of the prime factorizations of $a$ and~$b$
% equivalent to their being relatively prime.
% \end{ex}

\begin{ex}
Suppose that two numbers have prime factorizations 
of $a=p_0^{e_0}\cdots p_{n-1}^{e_{n-1}}$
and $b=p_0^{f_0}\cdots p_{n-1}^{f_{n-1}}$
(to use the same primes, we allow that some of the exponents are zero).
Prove each.
\begin{exes}
\item
  In the prime factorization of
  $\gcd(a,b)$ the exponent of $p_i$ is $\min(e_i,f_i)$.
\item In the prime factorization of $\lcm(a,b)$ the exponent of 
  $p_i$ is $\max(e_i,f_i)$.
\end{exes}
\begin{ans}
\begin{exes}
\item Let $d=\gcd(a,b)$.
  Note that if $p$ is a prime that divides~$a$ and~$b$ then
  by \ref{ex:EuclidsOtherLemma} above, $p$ must be one of the 
  $p_0$, \ldots\,, $p_{n-1}$.   
  So let the prime factorization of~$d$ be $p_0^{g_0}\cdots p_n^{g_n}$. 
  If $g_i=\min(e_i,f_i)$ for each~$i$ then $d$~divides both $a$ and~$b$.
  If $g_i>\min(e_i,f_i)$ then, supposing without loss of generality
  that the smaller of $e_i$ and~$f_i$ is $e_i$, writing
  $d\cdot k=a$ gives $p_0^{g_0}\cdots p_i^{g_i}\cdots p_{n-1}^{g_{n-1}}\cdot k$
  equal to $p_0^{e_0}\cdots p_i^{e_i}\cdots p_{n-1}^{e_{n-1}}$, and 
  cancelling the most factors of~$p_i$ possible (that is, cancelling $p_i^{e_i}$)
  gives a contradiction because there is at least one factor
  of $p_i$ on one side but no such factor on the other.
\item  This argument is just like the prior item's.  
\end{exes}
\end{ans}
\end{ex}

\begin{ex} \notetext{Existence of Irrational Numbers}
\begin{exes}
\item Prove that if a number is a square then in its prime factorization 
  each prime occurs an even number of times.
\item Prove that $\sqrt{2}$ is irrational.
\end{exes}
\begin{ans}
\begin{exes}
\item The square of $n=p_0^{e_0}\cdots p_{s-1}^{e_{s-1}}$ is
  $n=p_0^{2e_0}\cdots p_{s-1}^{2e_{s-1}}$.
\item Suppose that $\sqrt{2}=n/d$ for $n,d\in\Z$.
  Clearing the fraction and squaring gives $2\cdot n^2=d^2$.
  On the right, the prime factorization of~$d^2$ has $2$ raised to an even 
  power.
  On the left, the prime factorization of~$n^2$ has $2$ raised to an even power
  also, but there is another factor of~$2$ on the right.
  Thus the left has an odd number of factors of~$2$ while the right has
  and even number of factors of~$2$.
  This contradicts the uniqueness of factorizations, showing the 
  original supposition to be false. 
\end{exes}
\end{ans}
\end{ex}










%===================================================
\chapter{Sets}
\begin{df}
A \definend{set} is a collection of objects that is definite\Dash every 
object is either
definitely in the set or definitely not in the set.
An object~$x$ that is in a set~$A$ is an \definend{element}
or \definend{member}
of the set, written $x\in A$
(to denote that $x$ is not an element of $A$ write~$x\notin A$).
Two sets are equal if they have the same elements.
\end{df}
\noindent (Read `$\in$' as ``is an element of'' rather than ``in'' since the 
latter word causes confusion with 
the subset relation defined below.)
We sometimes say ``collection'' as a synonym for set.

We often give a set by either listing or describing its elements.
Thus we may write 
the set containing the primes less than ten 
either as $\set{2, 3, 5, 7}$ or as~$\set{p<10\suchthat \text{$p$ is prime}}$.

\begin{ex} \pord.
\begin{exes}
\item $\set{1,3,5}=\set{5,3,1}$    
\item $\set{2, 4, 6}=\set{2, 4, 6, 4}$    
\item $\set{1, 3}=\set{n\in\N\suchthat n<5}$ 
\item $0\in\set{1,2,\set{0}}$   
% \item $4\in\set{n\in\N\suchthat n^2<50}$
\end{exes}
\begin{ans}
\begin{exes}
\item These two sets are equal because they contain the same elements, $1$, $3$, and~$5$.
\item These two sets are equal because they contain the same elements, $2$, $4$, and~$6$.
\item These sets are not equal because the set on the left contains~$2$
  while the set on the right does not.
\item This is false because the set on the right has three elements, 
  and by inspection none of the three is the number~$0$;
  in particular, $\set{0}$ is not equal to~$0$.
% \item This is true because $4^2$ is less than $50$.    
\end{exes}
\end{ans}
\end{ex}

\begin{df}
The set with no elements is the \definend{empty set} $\emptyset$.  
\end{df}

\begin{df}
The set~$B$ is a \definend{subset} of the set~$A$
if every element of $B$ is an element of~$A$,
that is, if $x\in B$ implies that~$x\in A$.
It is denoted $B\subseteq A$.
\end{df}

\begin{ex} \pord.
\begin{exes}
\item $\set{1,3,5}\subseteq\set{1,3, 5, 7, 9}$
\item $\set{1, 3, 5}\in\set{1, 3, 5, 7, 9}$   
\item $\set{1,3,5}\subseteq\setbuilder{n\in\N}{\text{$n$ is prime}}$
\item $\emptyset\subseteq\set{1, 2, 3, 4}$
% \item $\N\subseteq\Z$
\item $\set{2}\in\set{1, \set{2}, 3}$
\item $\set{2}\subseteq\set{1, \set{2}, 3}$
\end{exes}
\begin{ans}
\begin{exes}
\item This is true because, by inspection, each of the elements of the set
  on the left, $1$, $3$, and~$5$, is an element of the set on the right.
\item The set $\set{1,3,5}$ is not an element of the set on the right.
  All elements of the set on the right are numbers.
\item This is not true since~$1$ is an element of the set on the left
  but not of the set on the right.
\item This is true since $x\in\emptyset$ implies that $x\in\set{1, 2, 3, 4}$. 
  (The implication is vacuous.)
% \item This is true since every natural number is an integer.
\item This is true since $\set{2}$ is the second element listed as a
  member of the set on the right.
\item This is not true since $2$ is an element of the set on the left but
  not an element of the set on the right.
\end{exes}
\end{ans}
\end{ex}

\begin{ex} \label{ex:EmptySetUnique}
Prove for all sets $A$. 
\begin{exes}
\item $A\subseteq A$ and $\emptyset\subseteq A$
\item The empty set is unique: if $A$ is empty and $B$ is empty then $A=B$.
\end{exes}
\begin{ans}
\begin{exes}
\item For the first, let $x$ be an element of the set on the left, $A$.
  Then $x$ is an element of the set on the right, $A$, obviously.

  For the second, observe that the implication 
  `if $x\in\emptyset$ then $x\in A$' is true 
  because any implication with a false first clause is true
  (that is, it is vacuously true).
\item If $A=\emptyset$ and~$B=\emptyset$ then $A=B$ because they have the
  same elements: the statement `$x\in A$ if and only if~$x\in B$' holds   
  for all $x$.
\end{exes}
\end{ans}
\end{ex}

\begin{ex} \notetext{Properties of subset} \label{ex:PropertiesOfSubset}
Prove, for $A$, $B$, and~$C$ sets.
\begin{exes} 
\item \notetext{Mutual inclusion}
  If $A\subseteq B$ and $B\subseteq A$ then $A=B$.  
\item \notetext{Transitivity}
  If $A\subseteq B$ and~$B\subseteq C$ then~$A\subseteq C$.  
\end{exes}
\begin{ans}
\begin{exes}
\item Since $A\subseteq B$, any element of~$A$ is also an element of~$B$.
   Since $B\subseteq A$, any element of~$B$ is also an element of~$A$.
   Thus they contain the same elements.
\item Consider $x\in A$.
   Because $A\subseteq B$ we have that~$x\in B$ and with that, because
   $B\subseteq C$ we have that $x\in C$.
   So $x\in A$ implies that $x\in C$, and therefore~$A\subseteq C$.
\end{exes}
\end{ans}
\end{ex}

\begin{ex} For each, give example sets or show that no example is possible.
\begin{exes}
\item $A\subseteq B$, $B\not\subseteq C$, $A\subseteq C$
\item $A\not\subseteq B$, $B\not\subseteq C$, $A\subseteq C$
\item $A\not\subseteq B$ $B\subseteq C$, $A\subseteq C$    
\end{exes}
\begin{ans}
\begin{exes}
\item $A=\set{0}$, $B=\set{0,1,2}$, $C=\set{0,1}$
\item $A=\set{0}$, $B=\set{2}$, $C=\set{0,1}$
\item $A=\set{0}$, $B=\set{1}$, $C=\set{0,1}$
\end{exes}
\end{ans}
\end{ex}

We will always work inside of a \definend{universal set}.
For instance, while we are doing number theory we may discuss 
the set of objects less than $100$,
but in the context of that discussion the universal set is $\Z$ 
so we are considering the set of integers less than $100$.


\begin{df}
The \definend{characteristic function} of a set~$A$ is a map
$\charfcn{A}$ (whose domain is the universal set) such that
$\charfcn{A}(x)=1$ for $x\in A$, and $\charfcn{A}(x)=0$ for $x\notin A$.  
\end{df}

\begin{ex} \notetext{Russell's paradox}
The definition that we gave of sets allows them to contain anything, so 
consider a set that contains all sets.
It has itself as an element.
So consider the set of all sets that have themselves as elements, and  
the set of all sets that don't.
Call the latter~$D$.
\begin{exes}
\item Show that assuming $D$ contains itself leads to a contradiction.
\item Show that assuming $D$ does not contain itself also leads to a
contradiction.  
\end{exes}
\begin{ans}
Let $D$ be the set of all sets~$S$ that do not contain themselves
$D=\setbuilder{S}{S\notin S}$.
\begin{exes}
\item If~$D$ were to have itself as an element 
  then it wouldn't satisfy the condition
  $S\notin S$, so $D$ would not be in the collection 
  $\setbuilder{\text{set~$S$}}{S\notin S}$.
  That is, in this case $D\notin D$, a contradiction. 
\item If $D$ does not have itself for an element then it satisfies the
  condition $S\notin S$, so $D\in D$, a contradiction.
\end{exes}
\end{ans}
\end{ex}






% .....................................
\section{Operations}

\begin{df}
Let $A$ be a set.
The \definend{complement} of $A$, denoted $\setcomp{A}$, is the 
set of objects that are not elements of~$A$.  
\end{df}

\noindent\remark
Working inside of a universal set makes the complement
operation sensible. 
For instance, in discussing of number theory, where $A$ is the set of 
objects that are less than~$100$, we can take the complement without 
worrying about picking up unwanted objects such as $\pi$.

\begin{ex}
Prove that the complement of the complement is the original set
$\setcomp{\setcomp{A}}=A$. 
\begin{ans}
  We will show mutual inclusion, that $A\subseteq\setcomp{\setcomp{A}}$
  and that $\setcomp{\setcomp{A}}\subseteq A$.

  For the first inclusion suppose that $a\in A$.
  Then by definition of the complement, $a\notin\setcomp{A}$.
  The last statement implies that $a\in\setcomp{\setcomp{A}}$.
  Thus  $A\subseteq\setcomp{\setcomp{A}}$.

  Inclusion in the other direction is similar.
  Suppose that $x\in\setcomp{\setcomp{A}}$.
  Then $x\notin\setcomp{A}$.
  By definition of the complement then $x\in\setcomp{A}$.
  Thus $\setcomp{\setcomp{A}}\subseteq A$. 
\end{ans}
\end{ex}

\begin{df}
Let $A$ and $B$ be sets.
Their \definend{union} is the set of elements 
from either set 
$A\union B=\setbuilder{x}{\text{$x\in A$ or $x\in B$}}$.  
Their \definend{intersection} is the set of elements 
from both sets
$A\intersection B=\setbuilder{x}{\text{$x\in A$ and $x\in B$}}$.  
\end{df}

\begin{ex}
Give the formula relating $\charfcn{A}$ and $\charfcn{B}$ to
  $\charfcn{A\intersection B}$.
Do the same for union.
Do the same for complementation.
\begin{ans}
  The formula relating $\charfcn{A}$ and $\charfcn{B}$ to
  $\charfcn{A\intersection B}$ is 
  $\charfcn{A\intersection B}=\charfcn{A}\cdot\charfcn{B}$.
  To verify this formula there are two cases: $x\in A\intersection B$ 
  and~$x\notin A\intersection B$.
  If $x\in A\intersection B$ then $x\in A$ and $x\in B$, so 
  $\charfcn{A}(x)=\charfcn{B}(x)=1$ and the product is correct.
  If $x\notin A\intersection B$ then either $x\notin A$ or~$x\notin B$,
  so at least one of $\charfcn{A}(x)$ or~$\charfcn{B}(x)$ is zero, 
  and here also the product is correct.

  For the union the formula is    
  $\charfcn{A\union B}=\charfcn{A}+\charfcn{B}-\charfcn{A\intersection B}$.
  To verify the formula we can check four cases:
  (i)~$x\in A$ and~$x\notin B$, 
  (ii)~$x\notin A$ and~$x\in B$, 
  (iii)~$x\in A\intersection B$, 
  and (iv)~$x\notin A$ and~$x\notin B$.
  Verification of the formula in these cases is as in the prior paragraph.

  The complement formula is    
  $\charfcn{\setcomp{A}}=1-\charfcn{A}$.
  There are two cases to verify: 
  $x\in A$ and~$x\notin A$.
  These cases are straightforward.
\end{ans}
\end{ex}

Picture set operations with \definend{Venn diagrams}.
\begin{center}
  \grf{asy/venn_union.pdf}{$A\union B$}
  \hspace*{3em}
  \grf{asy/venn_int.pdf}{$A\intersection B$}
  \hspace*{3em}
  \grf{asy/venn_comp.pdf}{$\setcomp{A}$}
\end{center}
In each diagram
the region inside the rectangle depicts the universal set and the 
region inside each circle depicts the set.
On the left the part in mauve shows 
the union as containing all of the two sets joined, 
the middle shows the intersection
containing only the region common to both,
and on the right the mauve region, the complement, is all but the set~$A$.

\begin{df}
The \definend{difference} of two sets is $A-B=\setbuilder{x\in A}{x\notin B}$.  
The \definend{symmetric difference} is 
$A\symdiff B=(A-B)\union(B-A)$.
\end{df}

\noindent If $A\subseteq X$ then $X-A$ is the same as $\setcomp{A}$ where
$X$ is the universal set.     

\begin{ex}
Draw the Venn diagram for difference and symmetric difference.  
\begin{ans}
These are the Venn diagrams for diffeence and symmetric difference.
\begin{center}
  \grf{asy/venn_diff.pdf}{$A- B$}
  \hspace*{3em}
  \grf{asy/venn_symdiff.pdf}{$A\symdiff B$}
\end{center}  
\end{ans}
\end{ex}

\begin{ex} \pord.
\begin{exes}
\item $A-B\subseteq A$
\item $A-B=A\intersection\setcomp{B}$
\item For all pairs of sets, $A-B=B-A$.
\item For all pairs of sets, $A\symdiff B=B\symdiff A$.
\end{exes}
\begin{ans}
\begin{exes}
\item  This is true.
  If $x\in A-B$
  then by the definition of set difference $x\in A$ (but $x\notin B$).
  This implication is the requirement for $A\subseteq B$.
\item We will show the sets are equal by mutual inclusion.

  For the left-to-right inclusion $A-B\subseteq A\intersection \setcomp{B}$
  suppose that $x\in A-B$.
  Then by the definition of set difference both $x\in A$ and $x\notin B$ hold.
  Therefore $x$ is an element of the intersection 
  $x\in A\intersection\setcomp{B}$.
  
  For the $A\intersection\setcomp{B}\subseteq A-B$ inclusion suppose that
  $x\in A\intersection\setcomp{B}$.
  Then $x\in A$ and $x\in\setcomp{B}$, so $x\notin B$.
  By the definition of set difference then, $x\in A-B$.
\item This is false.
  One example is $A=\set{0,1}$ and~$B=\set{1,2}$.
  Then $A-B=\set{0}$ while~$B-A=\set{2}$.
\item We will prove that the two are equal.
  One way is that 
  $A\symdiff B=\setbuilder{x}{\text{$x\in A-B$ and $x\in B-A$}}
              =\setbuilder{x}{\text{$x\in B-A$ and $x\in A-B$}}
              =B\symdiff A$.
\end{exes}
\end{ans}
\end{ex}

\begin{ex}\notetext{DeMorgan's Laws}  Prove.
\begin{exes}
\item $A\intersection\emptyset=\emptyset$ and $A\union\emptyset=A$  
\item \notetext{Idempotence} $A\intersection A=A$ and $A\union A=A$    
\item $A\intersection B\subseteq A\subseteq A\union B$  
\item \notetext{Commutativity}
   $A\intersection B=B\intersection A$ and
   $A\union B=B\union A$ 
\item \notetext{Associativity} 
  $(A\intersection B)\intersection C=A\intersection (B\intersection C)$
  and
  $(A\union B)\union C=A\union (B\union C)$ 
\item 
  $\setcomp{A\intersection B}=\setcomp{A}\union\setcomp{B}$
  and
  $\setcomp{A\union B}=\setcomp{A}\intersection\setcomp{B}$ 
\item \notetext{Distributivity} 
$A\union (B\intersection C)=(A\union B)\intersection (A\union C)$
 and $A\intersection (B\union C)=(A\intersection B)\union (A\intersection C)$
\end{exes}
\begin{ans}
\begin{exes}
\item 
  The first equality follows from: $x\in A\intersection\emptyset$
  iff $x\in A$ and~$x\in\emptyset$, 
  which, because an `and' statement holds if and only if both halves hold
  and the second clause never holds,
  is equivalent to $x\in\emptyset$. 

  For the second equality, 
  $x\in A\union\emptyset$ iff $x\in A$ or~$x\in\emptyset$,
  which is equivalent to $x\in A$.
\item We have that $x\in A\intersection A$ if and only if
  both $x\in A$ and~$x\in A$, 
  which is true if and only if $x\in A$.
\item For the first containment $A\intersection B\subseteq A$ observe that 
  $x\in A\intersection B$ implies that
  $x\in A$ and $x\in B$, so in particular $x\in A$.
  Thus $A\intersection B\subseteq A$.

  The second containment is just as trivial:
  $x\in A$ implies that $x\in A$ or~$x\in B$, and so $A\subseteq A\union B$.
\item First we do $A\intersection B=B\intersection A$.
  By the definition of intersection,  
  $A\intersection A=\setbuilder{x}{\text{$x\in A$ and $x\in B$}}
    =\setbuilder{x}{\text{$x\in B$ and $x\in A$}}=B\intersection A$.
  (The middle equality holds by the commutativity of `and'.)

  Equality for union is similar since like `and', the logical connective
  `or' is also commutative.
\item Each of these is a consequence of the observation that the 
  logical connective used in the definition is associative.

  For intersection,
  $(A\intersection B)\intersection C=
    \setbuilder{x}{\text{$x\in A\intersection B$ and $x\in C$}}
    =
    \setbuilder{x}{\text{($x\in A$ and $x\in B$) and $x\in C$}}
    =
    \setbuilder{x}{\text{$x\in A$ and ($x\in B$ and $x\in C$)}}
   =
    \setbuilder{x}{\text{$x\in A$ and $x\in B\intersection C$}}
   =
   A\intersection (B\intersection C)$
   (the second equality holds because `and' is associative).
   Union is similar.
\item (These two are a consequence of the fact that logical negation
  satisfies that `not($P$ and $Q$)' has the same truth value as
  `not($P$) or not($Q$)'.)

  We show  $\setcomp{A\intersection B}=\setcomp{A}\union\setcomp{B}$
  by mutual containment.
  Suppose first that $x\in \setcomp{A\intersection B}$ so that
  $x\notin A\intersection B$.
  Then $x\notin A$ or $x\notin B$.
  and so $x\in \setcomp{A}\union\setcomp{B}$.
  Thus $\setcomp{A\intersection B}\subseteq\setcomp{A}\union\setcomp{B}$.

  Now suppose that $x\in \setcomp{A}\union\setcomp{B}$.
  Then $x\in\setcomp{A}$ or~$x\in\setcomp{B}$.
  Restated, that is $x\notin A$ or $x\notin B$,
  which gives that $x\notin A\intersection B$ and
  so $x\in\setcomp{A\intersection B}$.
  Thus $\setcomp{A}\union\setcomp{B}\subseteq\setcomp{A\intersection B}$.
  
  The other identity is similar.
\item For $A\union (B\intersection C)=(A\union B)\intersection (A\union C)$
  first suppose that $x\in A\union (B\intersection C)$.
  Then $x\in A$ or $x\in B\intersection C$.
  In the case that $x\in A$ we have both that $x\in A\union B$ and that
  $x\in A\union C$.
  In the case that $x\in B\intersection C$, so $x\in B$ and~$x\in C$, 
  we have both that $x\in A\union B$ and that~$x\in A\union C$.
  Since in either case $x\in (A\union B)\intersection (A\union C)$,
  we know that 
  $A\union (B\intersection C)\subseteq (A\union B)\intersection (A\union C)$.

  Now suppose that $x\in (A\union B)\intersection (A\union C)$.
  Then $x\in A\union B$ and also $x\in A\union C$.
  There are two cases: either~$x\in A$ or $x\notin A$.
  If $x\in A$ then $x\in A\union (B\intersection C)$.
  If $x\notin A$ then because $x\in A\union B$ we know that $x\in B$
  and because $x\in A\union C$ we know that $x\in C$.
  So in this case also $x\in A\union (B\intersection C)$.
  Thus 
  $(A\union B)\intersection (A\union C)\subseteq A\union (B\intersection C)$.

  Therefore, by mutual containment, the two sets are equal.
  The other identity is similar.
\end{exes}
\end{ans}
\end{ex}

\begin{df}
Two sets are \definend{disjoint} if their intersection is empty.  
\end{df}

\begin{ex}
\begin{exes}
\item \pord: $A\intersection B$ and $A\symdiff B$ are disjoint.  
\item Find three sets $A$, $B$, and $C$, such that 
$A\intersection B\intersection C$ is empty but the sets are
not pairwise disjoint, that is, none of $A\intersection B$, 
$A\intersection C$, or $B\intersection C$ is empty. 
\end{exes}
\begin{ans}
\begin{exes}
\item The statement is true.
  By definition $A\symdiff B=\setbuilder{x}{\text{$x\in A-B$ or $x\in B-A$}}$.
  In the $x\in A-B$ case, $x\notin B$ and so $x\notin A\intersection B$.
  The $x\in B-A$ case is similar.
  Thus $(A\symdiff B)\intersection (A\intersection B)$ has no elements.
\item One example is $A=\set{5,6}$, $B=\set{3,6}$, and 
  $C=\set{3,5}$.

  \remark
  one way to make up such examples is to use this table.
  \begin{center}
    \begin{tabular}{ccc|c}
      $x\in A$  &$x\in B$  &$x\in C$  &row number \\ \hline
         $0$    &$0$       &$0$       &$0$    \\
         $0$    &$0$       &$1$       &$1$    \\
         $0$    &$1$       &$0$       &$2$    \\
         $0$    &$1$       &$1$       &$3$    \\[.5ex]
         $1$    &$0$       &$0$       &$4$    \\
         $1$    &$0$       &$1$       &$5$    \\
         $1$    &$1$       &$0$       &$6$    \\
         $1$    &$1$       &$1$       &$7$    
    \end{tabular}
  \end{center}
  On the left it has $0$ or~$1$ to indicate `true' or `false'.
  It uses the bits $0$ or~$1$ so that each row on the left makes a 
  binary number, and on the 
  right is the decimal expression of that number.
  In this case we want a number to fall in $A\intersection C$ so put
  $5$ into~$A$ and~$C$.
  We want a number in $A\intersection B$ so put~$6$ in each.
  We want a number in $B\intersection C$ so put~$3$ in each.
  (Carefully avoid putting~$7$ in all three.)
\end{exes}
\end{ans}
\end{ex}

\begin{df}
For a finite set~$A$, the \definend{order} $|A|$ is the number of elements.
\end{df}

% \begin{ex}
% For finite sets, if $A\subseteq B$ then $|A|\leq |B|$
% \end{ex}

\begin{df}
For a set~$A$ the \definend{power set} is $\powerset(A)$ is the set of all
subsets of~$A$.
\end{df}

\begin{ex} List 
  $\powerset(\set{a,b})$,   
  $\powerset(\set{a,b,c})$,   
  $\powerset(\set{a})$, and   
  $\powerset(\emptyset)$.
  Find the order of each.   
\begin{ans}
The power set
$\powerset(\set{a,b})=\set{\emptyset, \set{a}, \set{b}, \set{a,b}}$
of the two-element set has four elements.
The power set 
$\powerset(\set{a,b,c})=\set{\emptyset,\set{a},\set{b},\set{c},
                             \set{a,b},\set{b,c},\set{a,c},\set{a,b,c}}$
of the three-element set has eight elements.
The power set of the singleton $\set{a}$ has two elements
$\powerset(\set{a})=\set{\emptyset,\set{a}}$.
The power set of the empty set has one element
$\powerset(\emptyset)=\set{\emptyset}$.   
\end{ans}
\end{ex}

\begin{ex}  Let $S=\set{\emptyset,\set{\emptyset}}$. \pord.
\begin{exes}
\item $\emptyset\in\powerset(A)$    
\item $\emptyset\subseteq\powerset(A)$    
\item $\set{\emptyset}\in\powerset(A)$    
\item $\set{\emptyset}\subseteq\powerset(A)$    
\item $\set{\set{\emptyset}}\in\powerset(A)$    
\item $\set{\set{\emptyset}}\subseteq\powerset(A)$    
\end{exes}
\begin{ans}
The power set of a two-element set $\set{a,b}$ is 
$\powerset(\set{a,b})=\set{\emptyset,\set{a},\set{b},\set{a,b}}$.
Taking $\emptyset$ for~$a$ and $\set{\emptyset}$ for~$b$ we have
$\powerset(S)=\set{\emptyset, \set{\emptyset}, \set{\set{\emptyset}}, 
                   \set{\emptyset, \set{\emptyset}}}$.
\begin{exes}
\item This is true by inspection, the empty set is the first element
  of $\powerset(S)$ listed.
\item This is true by the earlier result~\ref{ex:EmptySetUnique}
  that the empty set is a subset of all sets.
\item Again, by inspection, one of the elements of $\powerset(S)$ is 
  $\set{\emptyset}$.  (It is listed second.)
\item This is true.
  To verify that one set is a subset of another we can check that for all
  elements~$x$ of that one, $x$ is also an element of the other.
  In this case the subset~$\set{\emptyset}$ has only one element to check,
  and the first item above checks that it is an element of~$\powerset(S)$.
\item This is true by inspection, since it is the element that is listed
  third.
\item To verify that $\set{\set{\emptyset}}$ is a subset of~$\powerset(S)$
  we can check that each of its elements are elements of the power set.
  It has only one element, namely~$\set{\emptyset}$.
  That is indeed one of the elements of~$\powerset(S)$, as checked in 
  an item above. 
\end{exes}
\end{ans}
\end{ex}

\begin{ex} \pord:
if $A\subseteq B$ then $\powerset(A)\subseteq\powerset(B)$.  
% \item $\powerset(A)=\powerset(B)$ iff $A=B$  
\begin{ans}
This is true.
Let $A\subseteq B$ and consider $x\in\powerset(A)$.
Then~$x$ is a subset of~$A$.
Any subset of~$A$ is a subset of~$B$ by 
the Transitivity property of~\ref{ex:PropertiesOfSubset},
so $x$ is a subset of~$B$.
Therefore $\powerset(A)\subseteq\powerset(B)$.
\end{ans}
\end{ex}

\begin{ex}
Where~$A$ is a finite set, prove that $|\powerset(A)|=2^{|A|}$.    
\begin{ans}
We prove this by induction on the number of elements in~$A$.
The base step is that~$A$ has zero-many elements.
The power set of the empty set has
one element $\powerset(\emptyset)=\set{\emptyset}$ and
since $2^0=1$, the statement is true in this case. 

For the inductive step suppose that the statement is true for the 
$n=0$, \ldots\,, $n=k$ cases and consider a set
with $k+1$~elements
$A=\set{a_0, \ldots, a_{k-1},a_k}$.
For each element~$S\in\powerset(A)$, that is, each subset~$S\subseteq A$,
either $a_k\in S$ or $a_k\notin S$.
The number of subsets in the first category is $2^{k-1}$ by the inductive
hypothesis.
Showing that 
the second category also contains~$2^{k-1}$-many elements will finish the proof
because then
the total of the two categories is 
$2^{k-1}+2^{k-1}=2\cdot(2^{k-1})=2^k$.

We will show that the collection of subsets containing~$a_k$
has the same number of elements as the collection of subsets that do not
contain~$a_k$
(as noted in the prior paragraph, the inductive hypothesis gives that
the second collection has $2^{k-1}$-many elements).
To prove that, with every subset~$S$ of $A$ that contains~$a_k$ we associate
a subset $\hat{S}$ that does not contain~$a_k$,
namely $\hat{S}=S-\set{a_k}$.
Clearly for each such~$S$ there is one and only one such~$\hat{S}$.
So, the two collections\Dash the set of subsets of $A$ containing~$a_k$
and the set of subsets of~$A$ that do not contain~$a_k$\Dash match
up element-by-element, and therefore have the same number of elements.
\end{ans}
\end{ex}





% .....................................
\section{Cartesian product}

\begin{df}
The \definend{sequence\/} $\seq{x_0, x_1, \ldots, x_{n-1}}$
formed from the \definend{elements} 
(or \definend{terms}) $x_0$, $x_1$, \ldots, $x_{n-1}$ 
is an ordered list of objects.
The \definend{length} of a sequence $\lh(\seq{x_0, x_1, \ldots, x_{n-1}})$
is the number of elements~$n$.
Two sequences $\seq{x_0, x_1, \ldots, x_{n-1}}$ and
$\seq{y_0, y_1, \ldots, y_{m-1}}$ are equal if and only if
they have the same length and
the same elements, in the same order:
$n=m$ and
$x_0=y_0$, $x_1=y_1$, \ldots, $x_{n-1}=y_{n-1}$. 
\end{df}

\begin{ex}\pord.
\begin{exes}
\item $\set{3, 4, 4, 5}=\set{4, 3, 5}$
\item $\sequence{3, 4, 5}=\sequence{4, 3, 5}$
\item $\sequence{3, 4, 4, 5}=\sequence{3,4,5}$  
\end{exes}
\begin{ans}
\begin{exes}
\item These two sets contain the same elements, $3$, $4$, and~$5$,
  and so are equal.
\item These sequences are not equal because they differ in the first element.
\item These sequences are not equal because they have different lengths.
  (In addition, they differ in their third elements.)
\end{exes}
\end{ans}
\end{ex}

\begin{df}
For sets $A_0$, $A_1$, \ldots, $A_{n-1}$
the \definend{Cartesian product} 
is the set of all length~$n$ sequences
$A_0\times A_1\times \cdots \times A_{n-1}
  =\setbuilder{\sequence{a_0,a_1,\ldots,a_{n-1}}}{\text{$a_0\in A_0$, \ldots, and~$a_{n-1}\in A_{n-1}$}}$.
If the sets are the same we often write $A\times\cdots\times A$ 
as~$A^n$.
\end{df}

A sequence of length~$2$ may be called an \definend{ordered pair} and 
written with parentheses $(x_0,x_1)$
(similarly we have ordered triples, four-tuples, etc.).
Thus, we write 
Cartesian coordinates of points in the plane as members of
$\R^2=\setbuilder{(x,y)}{x,y\in\R}$.

\begin{ex}
Prove that $\N^2\subseteq \Z^2$.
Generalize. 
\begin{ans}
Any element of $\N^2$ is a sequence of length two $\sequence{a,b}$ where
$a,b\in\N$.
Since $\N\subseteq\Z$, that is a sequence of length two of elements of~$\Z$, 
and so is an element of~$\Z^2$.

The generalization is that $A\subseteq B$ implies that~$A^n=B^n$ for all 
$n\in\N$.
The argument is straightforward, just as in the prior paragraph,
except for the~$n=0$ case.
A length zero sequence~$\sequence{}$ is empty and so any two 
length zero sequences are equal (they have the same length and do not 
differ on any of their elements).
Thus $A^0=B^0=\set{\sequence{}}$.
\end{ans}
\end{ex}

\begin{ex}
\begin{exes}
\item $A\times \emptyset=\emptyset$.
  What about $\emptyset\times A$?
\item $A\times B=\emptyset$ iff $A=\emptyset$ or~$B=\emptyset$
\item Show that there are sets so that $A\times B\neq B\times A$.
  Under what circumstances is $A\times B=B\times A$?
\item Is $(A\times B)\times C$ equal to $A\times (B\times C)$?
\item Prove that $A\times B\subseteq A^\prime\times B^\prime$ if and only if
  $A\subseteq A^\prime$ and $B\subseteq B^\prime$.
\end{exes}
\begin{ans}
\begin{exes}
\item 
\item
\item
\item
\item    
\end{exes}
\end{ans}
\end{ex}

\begin{ex} \notetext{Interaction between Cartesian product and 
other set operations}
\begin{exes}
\item Prove that $(A\union B)\times C=(A\times C)\union(B\times C)$
\item What happens for intersection?
\item Prove that 
  $(A\times B)\union (C\times D)\subseteq ()A\union C\times (B\union D)$
\item What happens for intersection?
\item What happens for complement?
\end{exes}
\end{ex}











%===================================================
\chapter{Functions, relations}
\begin{df}
A \definend{function}~$f$ (or \definend{map} or \definend{morphism}) 
from \definend{domain} set~$D$
to \definend{codomain} set~$C$, written $\map{f}{D}{C}$,
consists of the two sets along with a \definend{graph}, 
a set of pairs $(d,c)\in D\times C$ that is 
\definend{well-defined}: for each $d\in D$ there is
exactly one $c\in C$ such that $(d,c)$ is an element of the graph. 
Functions are equal only if they have the same domain, codomain,
and graph.
\end{df}

\noindent Thus a function associates each element~$d$ from the domain,
called an \definend{argument} or~\definend{input},
with an element~$c$ from the codomain, 
called a~\definend{value} or~\definend{output}. 
We write $f(d)=c$ and say that $c$ is the \definend{image} of $d$ 
or that $d$ \definend{maps to}~$c$.

A \definend{bean diagram} pictures the domain and 
codomain as blobs and 
either shows the function as a whole as a simple arrow   
or shows the function's action on individual elements 
with arrows that begin with a bar.
\begin{center}
  \grf{asy/bean_fcn.pdf}{$\map{f}{D}{C}$}
  \hspace{8em}
  \grf{asy/bean_fcn_elets.pdf}{$a\mapsunder{}f(a)$ and $b\mapsunder{}f(b)$}
\end{center}
% In place of $\map{f}{D}{C}$ you may see $D\mapsvia{f} C$ and
% in place of $f(d)=c$ you may see $d\mapsunder{f}c$.

\begin{ex} \pord{} that each is a function.\label{FindFunctions}
\begin{exes}
\item $D=\set{0,1,2}$, $C=\set{3,4,5}$,
  $G=\set{(0,3), (1,4), (2,5)}$    
\item $D=\set{0,1,2}$, $C=\set{3,4,5}$,
  $G=\set{(0,3), (1,4), (2,3)}$    
\item $D=\set{0,1,2}$, $C=\set{3,4,5}$,
  $G=\set{(0,3), (1,4)}$    
\item $D=\set{0,1,2}$, $C=\N$,
  $G=\set{(0,3), (1,3), (2,3)}$    
\item $D=\N$, $C=\N$,
  $G=\set{(0,3), (1,4), (2,5)}$    
\item $D=\set{0,1,2}$, $C=\set{3,4,5}$,
  $G=\set{(0,3), (1,4), (0,5)}$    
\item $D=\N$, $C=\N$,
  $G=\setbuilder{(d,c)\in D\times C}{c=d^2}$    
\end{exes}
\end{ex}

\begin{ex}
Let $D$ and $C$ be finite sets.
How many maps are there from $D$ to $C$?
\end{ex}

We often ignore the distinction between a function and its graph
and just
think of the function as the set of ordered pairs.
(The graph is in the definition only 
because the codomain cannot be recovered
from the set of ordered pairs, so the function must be 
given as a tuple.)

A function may have multiple arguments; one example is 
$(x,y)\mapsunder{f}x^2-2y^2$.
We write this map $\map{f}{\R^2}{\R}$ as 
$f(x,y)$ rather than
$f((x,y))$.
The number of arguments is the function's \definend{arity}.

\begin{df}
The \definend{range} of a function $\map{f}{D}{C}$,
denoted  $f(D)$ or $\range(f)$,
is the set
$\setbuilder{y\in C}{\text{there is a $x\in D$ such that $f(x)=y$}}$.
\end{df}

\begin{ex}
Find the range of each function in \cref{FindFunctions}.  
\end{ex}

\begin{df}
Let $\map{f}{D}{C}$.
The \definend{restriction} of $f$ to $B\subseteq D$ is
the function $\map{\restrictionmap{f}{B}}{B}{C}$ whose action is given by 
$\restrictionmap{f}{B}(b)=f(b)$ for all $b\in B$.
A synonym is that
$f$ is an \definend{extension} of~$g$.

The \definend{image} of the set $B$ under $f$, 
denoted $f(B)$ or $\image(f)$,
is the range of the function $\restrictionmap{f}{B}$.
\end{df}

\begin{ex}
Find the image of each set under the usual real-valued function $f(x)=\tan(x)$.
\begin{exes}
\item $\leftclosed{\pi/4}{\pi/2}=\setbuilder{x\in\R}{\pi/4\leq x<\pi/2}$
\item \set{-\pi/3}
\item $\R^+$  
\end{exes}
\end{ex}

\begin{df}
Let $\map{f}{D}{C}$.
The \definend{inverse image of the element}~$c\in C$ is
the set $f^{-1}(c)=\setbuilder{d\in D}{f(d)=c}$.
The \definend{inverse image of the set}~$A\subseteq C$
is the set $f^{-1}(A)=\setbuilder{d\in D}{f(d)\in A}$   
\end{df}

\begin{ex}
Find the inverse image of each under the function $\map{f}{\R}{\R}$ 
given by $x\mapsto x^2$.
\begin{exes}
\item $9$
\item $\closed{16}{25}=\setbuilder{y\in\R}{16\leq y\leq 25}$
\end{exes}
\begin{ans}
\begin{exes}
\item It is the set $\set{3,-3}$, sometimes abbreviated as $\pm 3$.
\item It is the union $\closed{4}{5}\union \closed{-5}{-4}$.    
\end{exes}
\end{ans}
\end{ex}

\begin{ex}
Find the inverse image of each under the usual real-valued function $f(x)=\sin(x)$.
\begin{exes}
\item $\sqrt{3}/2$
\item $2$
\item $\closed{0}{2}=\setbuilder{x\in\R}{0\leq \sin(x)\leq 2}$
\end{exes}
\begin{ans}
\begin{exes}
\item $\set{\ldots,-10\pi/3,-5\pi/3,-4\pi/3,\pi/3,2\pi/3,7\pi/3,8\pi/3, \ldots}$
\item $\emptyset$
\item $\closed{0}{\pi}\union\closed{2\pi}{3\pi}\union\closed{-\pi}{-2\pi}\union\cdots$
\end{exes}
\end{ans}
\end{ex}


\begin{ex}
Prove that $f^{-1}(A)$ is the union of the sets $f^{-1}(c)$ for all $c\in A$.
\end{ex}





% .....................................
\section{Composition}

\begin{df}
The \definend{composition} of
the two functions
$\map{f}{D}{C}$ and $\map{g}{C}{B}$ 
is $\map{\composed{g}{f}}{D}{B}$ given by 
$\composed{g}{f}(d)=g(f(d))$.
\end{df}

\begin{center}
  \includegraphics{asy/bean_fcn_comp.pdf}  
\end{center}
Observe that, 
although when reading the expression $\composed{g}{f}$ from left to right 
the $g$ comes first, 
the function that is applied first is~$f$. 
Observe also that the codomain of~$f$ is the domain of~$g$
(we sometimes use a composition where the domain of~$g$ is not the 
entire codomain, but is a superset of the range of~$f$).

\begin{ex} Let $D=\set{0,1,2}$, $C=\set{a,b,c,d}$, 
and $B=\set{\alpha,\beta,\gamma}$
Suppose that $\map{f}{D}{C}$ is given by $0\mapsunder{} a$, $1\mapsunder{} c$, 
$2\mapsunder{} d$ and that $\map{g}{C}{B}$
is given by 
$a\mapsunder{}\alpha$, $b\mapsunder{} \beta$, $c\mapsunder{}\gamma$,
and $d\mapsunder{}\alpha$.
\begin{exes}
\item Compute $\composed{g}{f}$ on all arguments or show the composition
  function is not defined.
\item Compute $\composed{f}{g}$ on all arguments or show it is not defined.
\item Find the range of $f$, $g$, and $\composed{g}{f}$.    
\end{exes}
\end{ex}

\begin{ex}
Let $\map{f}{\R}{\R}$ be $f(x)=x^2$ and let $\map{g}{\R}{\R}$ be~$g(x)=3x+1$.
Find the domain, codomain, and a formula for each of
$\composed{g}{f}$ and $\composed{f}{g}$.  
\end{ex}

\begin{ex}Prove each.
\begin{exes}
\item Composition need not be commutative.
\item\notetext{Associativity} 
  $\composed{h}{(\composed{g}{f})}=\composed{(\composed{h}{g})}{f}$    
% \item $g(f(A))=\composed{g}{f}(A)$
% \item $(\composed{g}{f})^{-1}(C)=f^{-1}(g^{-1}(C))$
\end{exes}
\end{ex}





% .....................................
\section{Inverse}

The definition of function specifies that for every argument there is 
exactly one associated value.

\begin{df}
A function is \definend{one-to-one} (or an \definend{injection}) 
if for each value there is at most
one associated argument, that is, if $f(d_0)=f(d_1)$ implies that $d_0=d_1$
for elements $d_0,d_1$ of the domain.
A function is \definend{onto} (or a \definend{surjection}) 
if for each value there is at least
one associated argument, that is, if for each element $c$ of the codomain
there exists an element $d$ of the domain such that $f(d)=c$.
A function that is both one-to-one and onto, so that for every value there
is exactly one associated argument, is a 
\definend{correspondence} (or \definend{bijection}, or \definend{permutation}).
\end{df}

\begin{ex}
If $D$ and~$C$ are finite sets and there is a 
correspondence~$\map{f}{D}{C}$
then the two sets
have the same number of elements.  
\end{ex}

\begin{ex} Prove.
\begin{exes}
\item A composition of one-to-one functions is one-to-one.
\item A composition of onto functions is onto.
\item A composition of correspondences is a correspondence.    
\end{exes}
\end{ex}

\begin{ex} 
\begin{exes}
\item If $g\circ f$ is onto then $g$ is onto.
\item If $g\circ f$ is one-to-one then $f$ is one-to-one.
\item Do the other two cases hold?     
\end{exes}
\end{ex}

\begin{df}
An \definend{identity function} $\map{\identity}{D}{D}$ has
$\identity(d)=d$ for all $d\in D$.
\end{df}

\begin{df}
A function \definend{inverse} to $\map{f}{D}{C}$ is 
$\map{f^{-1}}{C}{D}$ such that 
$\composed{f^{-1}}{f}$ is the identity map on~$D$ and
$\composed{f}{f^{-1}}$ is the identity map on~$C$.
\end{df}

\begin{ex} 
\begin{exes}
\item Let $\map{s}{\R^+}{\R}$ be~$s(x)=x^2$ and let
  $\map{r}{\R^+}{\R^+}$ be $r(x)=\sqrt{x}$.
  Show that $r$ is inverse to $s$.    
\item Let $\map{f}{\Z}{\Z}$ be~$f(x)=x+3$ and let
  $\map{g}{\Z}{\Z}$ be $g(x)=x-3$.
  Show that $g$ is inverse to $f$.
\item Show that $s$ is inverse to $r$, and that $f$ is inverse to~$g$.
\item Let $\map{h}{\N}{\N}$ be the function that returns
  $n+1$ if $n$ is even, and returns $n-1$ if $n$ is odd.
  Find a function inverse to~$h$.
\item Show that $\map{t}{\R}{\R}$ given by $t(x)=x^2$
  has no inverse.
\end{exes}
\end{ex}

\begin{ex}
  Find a pair of maps $\map{f}{D}{C}$ and $\map{g}{C}{D}$
  such that $\composed{g}{f}$ is the identity but $\composed{f}{g}$
  is not.
  (We say that $g$ is a \definend{right inverse} of~$f$, or what is the
  same thing, that $f$ is a \definend{left inverse} of~$g$).
\end{ex}

\begin{ex} Prove each.
\begin{exes}
\item If a function has an inverse then that inverse
  is unique.
\item A function has an inverse if and only if that 
  function is a correspondence.
\item The inverse of a correspondence is a correspondence.  
\item If $f$ and $g$ each is invertable then so is 
  $\composed{g}{f}$, and $(\composed{g}{f})^{-1}=\composed{f^{-1}}{g^{-1}}$.
\end{exes}  
\end{ex}





% .....................................
\section{Relations}
\begin{df}
A \definend{relation} on sets $A_0$, \ldots, $a_{n-1}$ is a subset
$R\subseteq A_0\times \cdots \times A_{n-1}$. 
If all of the sets are the same $a_0=A$, \ldots, $A_{n-1}=A$
then we call it a relation on~$A$.
The number of sets~$n$ is the \definend{arity} of the relation.
and say it is \definend{$n$-ary}.
If the arity is~$2$ then it is a \definend{binary relation}.
In this case, if $R=\setbuilder{(x,y)}{\text{$x\in X$ and $y\in Y$}}$
then where $(x,y)\in R$ we say $x$ is \definend{$R$-related} to~$y$
and sometimes write $xRy$.
\end{df}

\begin{ex}
\begin{exes}
\item List five elements of the relation
  $R=\setbuilder{(x,y)\in \R^2}{x+2=y}$
\item Consider less-than $<$ as a binary relation on $\N$.
  List five elements.
\item List five elements of the relation
  $\setbuilder{(x,y,z)\in\N^3}{x^2+y^2=z^2}$
\item Show that if $\map{f}{D}{C}$ is a function then 
  its graph is a relation.
\item Let $\map{f}{D}{C}$ be a function.
  Show that 
  $R_f=\setbuilder{(x,y)}{f(x)=f(y)}$
  is a binary relation.
  Where $f(x)=x^2$ with domain and codomain~$\R$,
  list five elements. 
\end{exes}
\end{ex}

\begin{df} 
Let $R$ be a binary relation on a set~$X$.
The relation is \definend{reflexive} if $(x,x)\in R$ for all $x\in X$.
The relation is \definend{symmetric} if $(x,y)\in R$ implies that
$(y,x)\in R$ for all $x,y\in R$.
The relation is \definend{transitive} if 
$(x,y)\in R$ and $(y,z)\in R$ implies that 
$(x,z)\in R$ for all elements $x,y,z\in R$.
A relation that satisfies all three conditions is an
\definend{equivalence relation}.  
\end{df}

\begin{ex}   \pord{} that each is reflexive, symmetric, and transitive.
\begin{exes}
\item The ``goes into'' relation
  $D=\setbuilder{(d,m)\in\Z^2}{d\divides m}$.
\item
  For any set~$A$ the \definend{diagonal relation} on $A$ 
  is $\setbuilder{(x,x)}{x\in A}$. 
\item
  Where $A$ is a set,
  $E=\setbuilder{(x,y)\in A\times\powerset(A)}{x\in y}$.
\end{exes}
\end{ex}

\begin{ex} For each, find a binary relation satisfying the condition.
\begin{exes}
\item Not reflexive.
\item Not transitive.
\item Reflexive and symmetric but not transitive.
\item Transitive but not symmetric or reflexive.
\item Reflexive and transitive but not symmetric.
\item Symmetric and transitive but not reflexive. 
\end{exes}
\end{ex}

\begin{ex}
What is wrong with this purported proof that in the definition
of an equivalence relation, the condition of reflexivity is redundant?
\textit{For any $x$, symmetry is that $x∼y$ implies $y∼x$.
By transitivity we have $x∼y$ and $y∼x$ together imply that $x∼x$. 
Therefore, symmetry and transitivity together imply reflexivity.}  
\end{ex}

\begin{ex}
Recall that two integers have the same parity if they are both odd or 
both even.
Show that the binary relation 
$P=\setbuilder{(x,y)\in\Z^2}{\text{$x$ and $y$ have the same parity}}$  
is an equivalence.
\end{ex}

\begin{ex}
Fix a divisor $q\in\Z^+$.
Show that the relation 
$\setbuilder{(m,n)\in\N^2}{m\equiv n\pmod q}$  
is an equivalence.
\end{ex}

\begin{df}
If $R$ is an equivalence relation on~$X$ then instead of $(x,y)\in R$
we may write $x\equiv y\pmod R$.  
\end{df}

\begin{ex} \label{RationalsAsEqClasses}
\begin{exes}
\item Show that 
$\setbuilder{\big((p,q),(n,d)\big)\in \Z\times\Z^+}{pm=qn}$
is an equivalence relation.
\item List five elements.
\end{exes}
\end{ex}

\begin{ex} \label{PlaneLinesAsClasses}
\begin{exes}
\item Let $X$ be the set of lines in the Euclidean plane and consider
the relation
$R=\setbuilder{(\ell_0,\ell_1)\in X^2}{\text{the two are parallel}}$. 
Show that $R$ is an equivalence.
\item List five elements.
\item Fix a vertical line $\ell$ (for instance, the $x$-axis 
  $\setbuilder{(x,0)}{x\in\R}$).
  List five elements of $X$ that are related to~$\ell$.
\end{exes}
\end{ex}

\begin{df}
Let $R$ be an equivalence relation on~$X$.
The \definend{equivalence class} of $x\in X$ is the set
$\eqclass{x}=\setbuilder{y\in X}{y\equiv x\pmod R}$.   
\end{df}

\begin{ex} Describe the equivalence classes.
\begin{exes}
\item \cref{RationalsAsEqClasses}
\item \cref{PlaneLinesAsClasses}
\end{exes}
\end{ex}

\begin{df}
A \definend{partition} of a set $X$ is a 
set of nonempty subsets of~$X$ such that every element $x\in X$ 
is in exactly one of these subsets.
That is, a set~$P$ is a partition of $X$ if and only if 
none of its elements is the empty set,
it \definend{covers}~$X$
(the union of the elements of $P$ is equal to~$X$),
and the elements of $P$ are \definend{pairwise disjoint}
(the intersection $p_i\intersection p_j$ is empty for $i\neq j$).
\end{df}

\begin{center}
  \grf{asy/bean_partition.pdf}{Set~$X$ partitioned into four parts}
\end{center}

\begin{ex} Let $R$ be an equivalence on~$X$.
Prove that the following are equivalent statements for $x,y\in X$;
\begin{exes}
\item $x\equiv y\pmod R$
\item $\eqclass{x}=\eqclass{y}$    
\item $\eqclass{x}\intersection\eqclass{y}\neq \emptyset$
\end{exes}
\end{ex}

\begin{ex} Prove.
\begin{exes}
\item Where $R$ is an equivalence, 
  the collection of equivalence classes 
  $\setbuilder{\eqclass{x}}{x\in X}$ forms a partition of~$X$.
  We say it is the partition \definend{induced} by the relation.
\item Where $P$ is a partition of~$X$, 
  the relation $R=\setbuilder{(x,y)\in X^2}{\text{$x$ and~$y$ are in the same part}}$ 
  is an equivalence.
  We say this relation \definend{arises from} the partition. 
\end{exes}
\end{ex}

\begin{ex}
Suppose that $\map{f}{D}{C}$ is onto.
Show that the relation
$R=\setbuilder{(d_0,d_1)\in D^2}{f(d_0)=f(d_1)}$ 
is an equivalence on~$D$. 
Show that the set of inverse images 
$P=\setbuilder{f^{-1}(c)}{c\in C}$ is a partition of the domain.
\end{ex}

\begin{df}
A binary relation~$R$ is \definend{antisymmetric} if
$(x,y)\in R$ and $(y,x)\in R$ implies that $x=y$.
A relation is a \definend{partial ordering} if it is 
reflexive, antisymmetric, and transitive.  
\end{df}

\begin{ex}
Can a relation be both symmetric and antisymmetric?  
\end{ex}

\begin{ex} Prove each.
\begin{exes}
\item The usual less than or equal to relation~$\leq$ on 
the real numbers is a partial order.
\item The relation `divides' on $\N$ is a partial order.
\item For any set~$A$ the relation $\subseteq$ on $\powerset(A)$ is
a partial order.
\end{exes}
\end{ex}





%===================================================
\chapter{Infinity}

\begin{df}
Two sets have the \definend{same cardinality} 
(or are \definend{equinumerous}) if there is a 
correspondence from one to the other.
We write $A\sim B$.   
\end{df}

\begin{df}
A set is \definend{finite} if it has~$n$ elements for some $n\in\N$.
Otherwise the set is \definend{infinite}.   
% \end{df}\begin{df}
A set is \definend{denumerable} if it has the same cardinality 
as $\N$.
A set is \definend{countable} if it is either finite or denumerable.
\end{df}

\begin{ex} Prove.
\begin{exes}
\item The relation $\sim$ is an equivalence.
\item Two finite sets have the sme cardinality iff they have the
  same number of elements.
\end{exes}
\end{ex}

\begin{ex}  Prove.
\begin{exes}
\item The set~$\N\times\N$ is countable.
\item The set of integers is countable.
\end{exes}
\end{ex}

\begin{ex} Prove that the following are equivalent for a set~$A$.
\begin{exes}
\item $A$ is countable
\item $A$ is empty or there is an onto function from $\N$ to~$A$
\item There is a one-to-one function from $A$ to~$\N$    
\end{exes}
\end{ex}

\begin{ex} Prove.
\begin{exes}
\item The set of rational numbers is countable.
\item The union of countably many sets is countable.
\item The set of finite sequences of elements from a countable set is countable.
\end{exes}
\end{ex}

\begin{ex}
\begin{exes}
\item The set $\powerset(\N)$ is not countable.
\item The set of real numbers is not countable.  
\end{exes}
\end{ex}




%===================================================
\appendix
\chapter{Peano axioms}
\newcommand{\axiom}[1]{\textsc{Axiom~#1}\hspace{.5ex}}

Particularly in the 
first chapter a person struggles with when to consider a 
statement sufficiently justified 
and soon comes to wonder what the axioms are like.
Here we give the most often used axiom system for the natural numbers, to
convey a sense of that. 

This system was 
introduced by Dedekind in 1888 and tuned by Peano in 1889.
In addition to the usual set and logical symbols such as $=$ and $\in$,
with the traditional properties, 
our language will use at least two symbols, $0$ and $S$, whose 
properties are limited by the conditions below.

\begin{ax}[Existence of a natural number]
The constant~$0$ is a natural number.
\end{ax}

\begin{ax}[Arithmetical properties]
The \definend{successor} function~$S$ has these properties.
\begin{exes}
\item \notetext{Closure} For all $a\in\N$, its successor~$S(a)$ is also 
  a natural number.
\item \notetext{One-to-one} For all $a,b\in\N$, if $S(a)=S(b)$ then $a=b$.
\item \notetext{Almost onto}
  For all $a\in\N$, if $a\neq 0$ then there is a $b\in\N$ with $S(b)=a$.
  In contrast, no $c\in\N$ has $0$ as a successor.  
\end{exes}
\end{ax}


These properties give infinitely many natural numbers:
$0$, $S(0)$, $S(S(0))$, etc.
Of course, the notation $0$, $1$, $2$, etc., is less clunky.

\begin{ax}[Induction]
  Suppose that $K$ is a set satisfying both (i)~$0\in K$
  and (ii)~for all $n\in\N$, if $n\in K$ then $S(n)\in K$.
  Then $K=\N$.
\end{ax}

\noindent (In this book we use an induction variant that changes
condition~(ii) to: for all $k\in\N$,  
if $n\in K$ for $0\leq n\leq k$ then $S(k)\in K$.
Condition~(ii) above is often called \definend{weak induction} while
the version we use is \definend{strong induction}.
There are technical differences but for our purposes
the two variants are interchangable. 
We prefer the strong variant because while it is 
more awkward to state, it is sometimes easier to apply.)
% http://mathoverflow.net/questions/37944/induction-vs-strong-induction

From those axioms we can for instance 
define addition by recursion using successor
\begin{equation*}
  \add(a,n)=
  \begin{cases}
    a             &\text{if $n=0$}  \\
    S(\add(a,m))  &\text{if $n=S(m)$} 
  \end{cases}
\end{equation*}
and then define multiplication by recursion using addition.
\begin{equation*}
  \mul(a,n)=
  \begin{cases}
    0             &\text{if $n=0$}  \\
    \add(\mul(a,m),a)  &\text{if $n=S(m)$} 
  \end{cases}
\end{equation*}
\end{document}


TODO
