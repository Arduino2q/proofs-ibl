\documentclass{ibl}
\usepackage{ibltext} % for the text only; answers-only is another .sty

\frontmatter
\begin{document}    
\vspace*{\fill}
\begin{center}
  \setlength{\unitlength}{1in}
  \newcommand{\enormoussize}{\fontsize{30pt}{20pt}\selectfont}
  {\enormoussize\scshape \makebox[0em][l]{\raisebox{24pt}{\large\itshape \hspace*{15pt}An Inquiry-Based}}{\color{darkii}Introduction to Proof}}
\end{center}
\vspace*{\fill}
\begin{flushright}
  \large\color{darki}
  \begin{tabular}{@{}l@{}}
  Jim Hef{}feron  \\
  version 0.9
  \end{tabular}
\end{flushright}

\newpage
\begin{center}
  \renewcommand{\arraystretch}{1.07}
  {\large\textsc{Notation}} \\[3ex]
  \begin{tabular}{r|l}
    $\Z$    &integers; $\set{\ldots, -2,-1,0,1,2,\ldots}$  \\
    $\N$    &natural numbers; $\set{0,1,2,\ldots}$  \\
    $\Z^+$  &positive integers; $\set{1,2,\ldots}$  \\
    $\Q$    &rational numbers  \\
    $\R$    &real numbers     \\
    $a\divides b$  &$a$ divides~$b$ \\
    $a\bmod b$  &the remainder when $a$ is divided by $b$ \\
    $a\equiv c\pmod b$ &$a$ and $c$ have the same remainder when divided by $b$ \\
    $\gcd(a,b)$, $\lcm(a,b)$ &greatest common divisor, least common multiple  \\
    $a\in A$  &$a$ is an element of the set $A$  \\
    $\emptyset$  &the empty set  \\
    $A\subseteq B$ &$A$ is a subset of~$B$  \\
    $\charfcn{A}$  &characteristic function of the set~$A$ \\
    $\setcomp{A}$  &complement of the set~$A$  \\
    $A\union B$, $A\intersection B$ &union, intersection of the sets \\
    $A- B$, $A\symdiff B$ &difference, symmetric difference of the sets \\
    $|A|$  &order of the finite set $A$; number of elements \\ 
    $\powerset(A)$  &power set of $A$; set of all of $A$'s subsets \\
    $\seq{x_0,x_1,\ldots}$, $\lh(\seq{x_0,x_1,\ldots})$ &sequence, length of the sequence   \\
    $A_0\times A_1\times \cdots \times A_{n-1}$, $A^n$  &Cartesian product of sets, product of a set with itself \\
    $\map{f}{D}{C}$  &function with domain~$D$ and codomain~$C$ \\
    $\map{\identity}{D}{D}$  &identity map; $\identity(d)=d$ \\
    $\restrictionmap{f}{B}$  &restriction of $f$ to a subset of the domain \\
    $f^{-1}(c)$, $f^{-1}(A)$  &inverse image of an element or subset of the codomain \\
    $\composed{g}{f}$  &function composition   \\
    $f^{-1}$  &function inverse to~$f$  \\
    $x\equiv y\pmod R$  &$(x,y)\in R$ where $R$ is an equivalence; equivalence with respect to~$R$ \\ 
    $\eqclass{x}$  &equivalence class containing~$x$  \\
    $A\sim B$  &the two sets have the same cardinality
  \end{tabular}
\end{center}
\vspace*{\fill}
\begin{center}
  {\large\textsc{Lower case Greek letters, with pronounciation}}
    \\[3ex]
  \newcommand{\pronounced}[1]{\hspace*{.2em}\small\textit{#1}}
  \begin{tabular}{cl@{\hspace*{3em}}cl}
    character &\multicolumn{1}{c}{name}       
    &character  &\multicolumn{1}{c}{name}  \\ 
    \hline
     \( \alpha  \) &alpha \pronounced{AL-fuh}  
       &\( \nu     \)  &nu  \pronounced{NEW}       \\
     \( \beta   \) &beta  \pronounced{BAY-tuh}     
       &\( \xi  \)  &xi   \pronounced{KSIGH}    \\ 
     \( \gamma  \) &gamma  \pronounced{GAM-muh}    
       &\( o       \) &omicron  \pronounced{OM-uh-CRON}  \\
     \( \delta  \) &delta  \pronounced{DEL-tuh}   
       &\( \pi \) &pi  \pronounced{PIE}     \\
     \( \epsilon\) &epsilon  \pronounced{EP-suh-lon}   
       &\( \rho \) &rho  \pronounced{ROW}    \\
     \( \zeta   \) &zeta   \pronounced{ZAY-tuh}    
       &\( \sigma  \) &sigma  \pronounced{SIG-muh}  \\
     \( \eta    \) &eta  \pronounced{AY-tuh}      
       &\( \tau \) &tau  \pronounced{TOW (as in cow)}    \\
     \( \theta  \) &theta  \pronounced{THAY-tuh}    
       &\( \upsilon\) &upsilon  \pronounced{OOP-suh-LON}  \\
     \( \iota \) &iota \pronounced{eye-OH-tuh}   
       &\( \phi    \) &phi  \pronounced{FEE, or FI (as in hi)}    \\
     \( \kappa  \) &kappa  \pronounced{KAP-uh}  
       &\( \chi    \) &chi  \pronounced{KI (as in hi)}    \\
     \( \lambda \) &lambda  \pronounced{LAM-duh}  
       &\( \psi    \) &psi \pronounced{SIGH, or PSIGH}    \\
     \( \mu  \)  &mu  \pronounced{MEW}     
       &\( \omega  \) &omega  \pronounced{oh-MAY-guh}  
  \end{tabular}
\end{center}





\chapter*{Preface}

This is a course in mathematical proof. 
It is for majors who are US sophomores, although since
it requires only high school mathematics
it can be used with first year students.



\medskip
\noindent\textsc{Approach.}
This course is Inquiry-Based (sometimes called Moore method).
That is, this text is a sequence of exercises
along with definitions and a few 
remarks.
The students together work through the mathematics by
proving statements or sometimes by providing examples or counterexamples.
They grapple directly with the material\Dash the instructor only 
lightly guides\Dash
talking out misunderstandings, 
sometimes stumbling in the dark, and sometimes
having beautiful flashes of insight.
% In short, this approach is the difference between cover and do.
For these students, 
this is the best way to develop mathematical maturity.


\medskip
\noindent\textsc{Topics.}
We start with elementary number theory, not logic and sets, 
for the same reason
that the baseball team's annual practice starts with tossing the ball and 
not with reading the rulebook.
Math majors readily take to proving things about
divisibility and primes, enjoying the 
intellectual challenge and verbal exchange, 
whereas an first month of background material can be a damper.

But the background material such as sets is good stuff also and 
students are onboard once they see where it takes them.
In the second and third chapters we do
sets, functions, and relations, now with the
intellectual habits we've established at the start.

However there are some topics, such as the definition of implication, 
that students need even in the
first chapter.
I have daily classes begin with some people going to the 
board to write their answers to the homework and 
I use these ten minutes for a slide or two that covers issues from
the class's current work.
This just-in-time approach keeps the class centered 
on proving things, but they get what
they need when they need it.
(The only exception is that we briefly pause to focus on induction,
since it is often new for students and needs 
their full attention.)



\medskip
\noindent\textsc{License.}
This material is Free; see the details  
at \url{http://joshua.smcvt.edu/proofs}.
This includes the \LaTeX{} source so instructors can tailor the
material to their students.  
Also on that page are the slides that I use
and, for instructors new to this approach, 
a brief description of what classroom techniques work for me.


\vspace{\fill}
\noindent\parbox{.95\textwidth}{\raggedright\textit{At the first meeting of the class Moore would define the basic terms and either challenge the class to discover the relations among them, or, depending on the subject, the level, and the students, explicitly state a theorem, or two, or three. Class dismissed. Next meeting: "Mr Smith, please prove Theorem 1. Oh, you can't? Very well, Mr Jones, you? No? Mr Robinson? No? Well, let's skip Theorem 1 and come back to it later. How about Theorem 2, Mr Smith?" Someone almost always could do something. If not, class dismissed. It didn't take the class long to discover that Moore really meant it, and presently the students would be proving theorems and watching the proofs of others with the eyes of eagles.}\hspace{1.5em}--Paul Halmos}

\vspace{.2in}
\noindent\parbox{.95\textwidth}{\textit{It's a kind of art that may change lives.}\hspace{1.5em}--Peter Schjeldahl}
 
\vspace*{\fill}
\begin{flushright}
  \begin{tabular}{@{}l@{}}
  Jim Hef{}feron  \\
  Saint Michael's College  \\
  Colchester, Vermont USA \\
  2013-Spring
  \end{tabular}
\end{flushright}




\mainmatter
\pagestyle{bodypage}
\chapter{Number Theory}

We begin with results about the
integers $\Z=\set{..,-2,-1,0,1,2,\ldots}$.
In this chapter, ``number'' means integer.
In some cases, results refer to the 
natural numbers $\N=\set{0,1,2,\ldots}$.


% .....................................
\section{Divisibility}

\begin{df}
  For two integers $d,n$ we say that
  $d$ \definend{divides}~$n$
  if there is an integer~$k$ such that $dk=n$.
  Here, $d$~is the \definend{divisor}, 
  $n$~is the \definend{dividend},
  and~$k$ is the \definend{quotient}.
  (Alternative wordings are:
  $d$~\definend{is a factor of}~$n$,
  or $d$~\definend{goes evenly into}~$n$,
  or $n$~\definend{is a multiple of}~$d$.)
  We denote the relationship as
  $d\divides n$ if $d$~is a divisor of~$n$
  or as $d\ndivides n$ if it is not.
\end{df}

\begin{df}
  A natural number is \definend{even} if $2$ divides it,
  otherwise it is \definend{odd}.
  (Alternative wording is that the number \definend{has even parity}
  or \definend{has odd parity}.)
\end{df}

The notation $d\divides n$ signifies a relationship between two numbers.
It is different than the fraction $d/n$, which is a number.
We can sensibly ask ``Does $2$ divide~$5$?''\spacefactor=1000\
but ``Does $2/5$?''\spacefactor=1000\ is not sensible.   

\begin{ex}[Interaction of parity with sign]
\pord.
\begin{exes}
\item If a number is even then its negative is even.
\item If a number is odd then its negative is odd.
\item If $d\divides a$ then $-d\divides a$ and $d\divides -a$.
\item If $d\divides a$ then $d\divides\absval{a}$.
\end{exes}  
\begin{ans}
\begin{exes}
\item If $n\in\Z$ is even then $n=2k$ for some $k\in\Z$.
Then $-n=-(2k)=2\cdot(-k)$ shows that the negative is also even.
\item Let $n$ be an integer and suppose that its negative~$-n$ is even.
Since the negative of $-n$ is $n$, the prior item shows that $n$ is even.
That is, $n$ is even if and only if $-n$ is even.
Thus if $n$ is not even then $-n$ is also not even.
\item Assume that $d\divides a$ for $d,a\in\Z$, so that 
$a=dk$ for some~$k\in\Z$.
For the first, that $-d\divides a$, observe that
$a=(-d)\cdot(-k)$.
For the second, observe that $-a=d\cdot(-k)$.
\item Let $d\divides a$.
The absolute value $\absval{a}$ equals~$a$ if $a\geq 0$ and equals
$-a$ if $a<0$.
For the $a\geq 0$ case, the implication that if $d\divides a$ then $d\divides a$
is trivial.
For the $a<0$ case, 
the implication that if $d\divides a$ then $d\divides -a$ was
proved in the prior item.
\end{exes}
\end{ans}
\end{ex}

\begin{ex}[Interaction of parity with addition]\pord.
\begin{exes}
\item The sum of two evens is even.
  The difference of two evens is even.
\item The sum of two odds is odd. 
The difference of two odds is odd.
\item Generalize the first item to arbitrary divisors~$d$.
\end{exes}  
\begin{ans}
\begin{exes}
\item Let $a,b\in\Z$ be even so that $a=2m$ and~$b=2n$ for some $m,n\in\Z$.
Then $a+b=2m+2n=2(m+n)$ is even,
and $a-b=2m-2n=2(m-n)$ is even.
\item Both statements are false: for instance $1$ and~$3$ are odd
but both $1+3$ and~$1-3$ are even.
\item A reasonable generalization is that for any $d\in\Z$
  the sum and difference of multiples of~$d$ is again a multiple of~$d$.
 
For a proof
let $a,b\in\Z$ be multiples of~$d$ so that $a=dm$ and~$b=dn$ 
for some $m,n\in\Z$.
Then $a+b=dm+dn=d(m+n)$ is a multiple of~$d$
and $a-b=dm-dn=d(m-n)$ is multiple of~$d$.
\end{exes}
\end{ans}
\end{ex}

\begin{ex}
Find a counterexample to:
where $a,b\in\N$, the number $a+b$ is even if and only if $a-b$ is even.
Patch the statement\Dash that is, alter it slightly\Dash to make it true.
\begin{ans}
One counterexample is to take the numbers $1,3\in\N$, since the difference
$1-3$ does not have a defined value on the natural numbers.  
The patch is to change the $\N$ to~$\Z$:
where $a,b\in\Z$, 
the number $a+b$ is even if and only if $a-b$ is even.

For a proof of the patched statement suppose that $a,b\in\Z$.
Then $a+b$ is even if and only if 
$a+b=2k$ for some $k\in\Z$,
which is true if and only if
$a-b=a+b-2b=2k-2b=2(k-b)$,
which holds if and only if~$a-b$ is even. 
\end{ans}
\end{ex}

\begin{ex}[Interaction of parity with multiplication]\pord.
\begin{exes}
\item The product of two evens is even.
\item The quotient of two evens, if it is an integer, is even.
\item Generalize the first item to any divisor~$d$.
\end{exes}  
\begin{ans}
\begin{exes}
\item Let $a,b\in\Z$ be even
so that $a=2m$ and~$b=2n$ for some $m,n\in\Z$.
Then $ab=2m\cdot 2n=2(m\cdot 2n)$ is even.
\item This is false since both $6$ and~$2$ are even but the quotient $6/2$
is not even.
\item The first item can generalize to: for any~$din\N$, 
the product of two multiples of~$d$ is a multiple of~$d$.

For the proof,  let $a,b\in\Z$ be multiples of~$d$
so that $a=dm$ and~$b=dn$ for some $m,n\in\Z$.
Then $ab=dm\cdot dn=d(m\cdot dn)$ is a multiple of~$d$.

(The first item can also generalize to: a product of two multiples of
$d$ is a multiple of~$d^2$.)
\end{exes}
\end{ans}
\end{ex}

\begin{ex}[Divisibility Properties]
Let $d$, $m$, and $n$ be integers.
Prove each.
\begin{exes}
\item \notetext{Reflexivity} Every number divides itself.
\item Every number divides $0$ while
  the only number that $0$ divides is itself.
\item \notetext{Transitivity} If $d\divides n$ and $n\divides m$ 
   then $d\divides m$.
\item \notetext{Cancellation} 
  For $d,n\in\Z$ we have $d\divides n$ if and only if 
  $ad\divides an$ for any~$a\in\Z$ with $a\neq 0$.
\item \notetext{Comparison} 
  For $d,n\in\Z^+$, if $n$ is a multiple of~$d$ then $n\geq d$.
\item Every number is divisible by $1$.
  The only numbers that divide~$1$ are $1$ and~$-1$.
\item The largest divisor of $a$ is $\absval{a}$, for $a\in\Z$ with $a\neq 0$.
  (Recall that the absolute value  $\absval{a}$ of a number is~$a$ 
  if $a\geq 0$ and is~$-a$ if $a<0$.) 
\end{exes}
\begin{ans}
\begin{exes}
\item Any number $a\in\Z$ satisfies that $a=a\cdot 1$.
\item For every $k\in\Z$ the equation~$0=k\cdot 0=0\cdot k$ has~$0$ 
  as a multiple of~$k$.
  That equation also shows that the only number that~$0$ divides is itself. 
\item Suppose that $d, n, m\in\Z$ are such that $d\divides n$ and
  $n\divides m$.
  Then there are $i,j\in\Z$ such that $n=di$ and~$m=nj$.
  Substitute to get $m=(di)\cdot j=d\cdot(ij)$, which shows that
  $d$ divides~$m$.
\item Fix~$d,n\in\Z$.
  If $d\divides n$ then $n=dk$ for some $k\in\Z$ and so for any~$a\in\Z$
  we have $an=adk$, which shows that $ad\divides an$.
  For the other implication, if $a\in\Z$ is such that $a\neq 0$ and
  $ad\divides an$ then $an=adk$ for some  $k$.
  Since $a\neq 0$ we can multiply by $1/a$ to get $n=dk$, and therefore
  $d\divides n$.
\item Assume $d,n\in\Z^+$.
  Because $n$ is a multiple of $d$ we have that $n=dk$ for some $k\in\Z$.
  Note that $k\geq 1$ since otherwise $n\leq 0$ but $n$ is given as positive.  
  Multiplying by the positive number~$d$ gives $n=dk\geq d$ 
\item That every number is divisible by~$1$ follows from the fact that
   for every $a\in\Z$ the equation $a=1\cdot a$ holds.

  For the other part 
  first consider a divisor~$d$ of~$1$ that is a positive integer.
  By the prior item $1\geq d$ so the only such divisor is~$d=1$.
  Clearly $0$ is not a divisor of~$1$ so the only remaining candidates
  are negative integers.
  We have shown that for $d,a\in\Z$, if $d\divides a$ then $-d\divides a$,
  so if a negative number~$d$ divides~$1$ then the positive~$-d$ 
  also divides~$1$.
  Since the only such positive number is~$-d=1$, the only 
  candidate for a negative divisor is $d=-1$. 
\item Fix $a\in\Z$. 
  First note that $\absval{a}$ does indeed divide~$a$ because
  if $a\geq 0$ then $\absval{a}\divides a$ follows from 
  $a=\absval{a}\cdot 1$,
  while if $a<0$ then $\absval{a}\divides a$ follows from 
  $a=\absval{a}\cdot(-1)$.

  We finish by showing that no divisor of~$a\neq 0$ is larger than $\absval{a}$.
  We have shown that for $d,a\in\Z$ if $d\divides a$ then $d\divides -a$,
  if a negative~$a$ had a divisor greater than~$\absval{a}$ then the
  positive number~$-a$ would also have such a divisor.
  So we will be done if
  we show there is no dividend~$a>0$ with a divisor larger than $\absval{a}=a$.
  By the Comparison property, a positive dividend is greater than or 
  equal to any of its divisors. 
  Thus~$\absval{a}$ is maximal. 
\end{exes}
\end{ans}
\end{ex}

\begin{ex}
Give the converse of the Reflexivity property: what conclusion can you make
if $a\divides b$ and~$b\divides a$?
\begin{ans}
We will show that for $a,b\in\Z$, if both $a\divides b$ and~$b\divides a$
then $a=\pm b$.

By definition $a\divides b$ and~$b\divides a$ implies that $b=ak$
and $a=bm$ for some $k,m\in\Z$.
Substitution gives $a=bm=akm$ and then cancellation gives $1=km$ (cancellation
does not apply if $a=0$ but in this case the proof is easy).
The only divisors of $1$ are $1$ and~$-1$, so $k=\pm 1$ and~$m=\pm 1$. 
Thus $b=\pm a$ and~$a=\pm b$.
\end{ans}
\end{ex}

\begin{ex}
Suppose that $a,b,c\in\Z$.
\begin{exes}
\item Prove that if $a\divides b$ then $a\divides bc$ for all integers~$c$.
\item Prove that if $a\divides b$ and $a\divides c$ then $a$ divides the 
  sum~$b+c$ and difference~$b-c$.
\item Generalize.
\end{exes}
\begin{ans}
\begin{exes}
\item If $a\divides b$ then $b=ak$ for some~$k\in\Z$.
  Thus $bc=akc=a\cdot(kc)$ is a multiple of~$a$
\item Suppose that $a,b,c\in\Z$ and that $a\divides b$ and $a\divides c$.
  Then $b=ak$ and $c=am$ for some $k,m\in\Z$. 
  Substitution  
  $b+c=ak+am=a\cdot(k+m)$
  shows that $a$ divides the sum~$b+c$.
  A similar substitution
  $b-c=ak-am=a\cdot(k-m)$
  shows that $a$ divides the difference.
\item A natural generalization is that $a$ divides any combination
  $i\cdot b+j\cdot c$ where $i,j\in\Z$.
  The proof is
  $ib+jc=i\cdot (ak)+j\cdot(am)=a\cdot(ik+jm)$.
\end{exes}
\end{ans}
\end{ex}




% .....................................
\section{Interlude: induction}
Results in the prior section need only proof techniques that come naturally
to people with a mathematical aptitude.
But some results to follow require a technique 
that is not as natural, mathematical induction.
We now pause to introduce induction.

We will start with exercises about sums 
(but note that induction is not about sums;
we start with them only because they make the best first exercises).
For instance, most people have noticed that the odd numbers sum to 
perfect squares: $1+3=4$, $1+3+5=9$, $1+3+5+7=16$, etc.,
so we look to prove 
the statement 
``The sum of the first $n$ odd numbers $1+3+5+\cdots+2n-1$ is $n^2$.'' 

Our induction proofs have two steps.
For the base step we show that the statement holds for some first number;
below we will verify the the statement for the number~$1$.
The inductive step is more subtle,
we will verify the following implication.
\begin{equation*}
  \begin{tabular}{l} 
  \textit{If} the statement holds from the base number up to and including 
   the $n=k$ case \\
  \textit{then} the statement also holds in the~$n=k+1$ case.
  \end{tabular}
  \tag{$*$}
\end{equation*}
Doing both steps will 
prove that our statement is true for all~$n\geq 1$.
That's because, first, the base step
directly verifies the statement for the number~$1$.
Next, because the inductive step verifies the implication~($*$) for all $k$, 
that implication applies when~$k=1$, giving 
that the statement is true for the number~$2$. 
Now, with the statement established for both $1$ and~$2$, 
apply ($*$) again to conclude that it is true for the number~$3$.
In this way, we bootstrap to all numbers greater than or equal to $1$.
Below is an example proof.

\begin{proof}
  We show that $1+3+\cdots+(2n-1)=n^2$ by induction.
  For the $n=1$ base step note that on the left the sum has one term, $1$,
  which equals the value on the right, $1^2$.

  For the inductive step assume that the 
  formula is true for cases $n=1$, $n=2$, \ldots, $n=k$, and 
  consider the $n=k+1$ case.
  The sum is $1+3+\cdots+(2k-1)+(2(k+1)-1)=1+3+\cdots+(2k-1)+(2k+1)$.
  By the inductive hypothesis the statement is true in the $n=k$ case
  so we can substitute 
  $1+3+\cdots+(2k-1)+(2k+1)=k^2+(2k+1)=(k+1)^2$.
  This is the required expression for the case~$k+1$.
\end{proof}

\begin{ex}
Prove by induction.
\begin{exes}
\item $1+2+\cdots+n=n(n+1)/2$
\item $1+4+9+\cdots+n^2=n(n+1)(2n+1)/6$
\item $1+8+27+\cdots+n^3=n^2(n+1)^2/4$
\item $1+2+4+8+\cdots+2^{n-1}=2^n-1$
\end{exes}
\begin{ans}
\begin{exes}
\item For the $n=1$ base step note that the sum on the left
  has the single term~$1$
  while the right side is $1\cdot(1+1)/2$, which also equals~$1$.

  For the inductive step take the inductive hypothesis 
  that the statement is true for $n=1$, 
  \ldots\,, $n=k$ and consider $n=k+1$.
  We have 
  $1+2+\cdots+k+(k+1)=k(k+1)/2+(k+1)=(k+1)\cdot(k/2+1)=(k+1)\cdot(k+2)/2$, 
  as required.  
  (The first equality results from applying the inductive hypothesis to 
  the $n=k$ case.) 
\item The $n=1$ base step is that the left side has the single term~$1$
  while the right side is $1\cdot(1+1)\cdot(2\cdot 1+1)/6$, and the 
  two are equal.

  For the inductive step assume that the statement is true for 
  $n=1$, \ldots\,, $n=k$ and consider $n=k+1$.
  Applying the inductive hypothesis in the $n=k$ case and reducing gives
  $1+4+9+\cdots+k^2+(k+1)^2=k(k+1)(2k+1)/6+(k+1)^2
    =(k+1)\cdot [k(2k+1)/6+(k+1)]
    =(k+1)\cdot [k(2k+1)+6(k+1)]/6
    =(k+1)\cdot [2k^2+7k+6]/6
    =(k+1)(k+2)(2(k+1)+1)/6$,
  as required.
\item The base step is~$n=1$.  
  The left side has the single term $1$ while the right side is 
  $1^2(2)^2/4$, so they are equal.

  For the inductive step assume that the statement is true when $n=1$, 
  \ldots\,, $n=k$.
  Then 
   $1+8+27+\cdots+k^3+(k+1)^3
    =k^2(k+1)^2/4+(k+1)^3
    =(k+1)^2\cdot [(k^2/4)+(k+1)]
    =(k+1)^2\cdot (k^2+4k+4)/4
    =(k+1)^2(k+2)^2/4$. 
\item The $n=1$ base step has a sum on the left with a single term, $1$.
The expression on the right is $2^1-1=1$, and they are equal.

The inductive hypothesis is that 
the statement is true for the cases $n=1$, \ldots\,, $n=k$.
The $n=k+1$ summation is
$1+2+4+\cdots+2^{k-1}+2^k$, 
and application of the inductive hypothesis in the $n=k$ case gives
$(2^k-1)+2^k=2\cdot 2^k-1=2^{k+1}-1$, as required. 

(\textit{Comment.} A person could instead take the base step to be
$n=0$, giving an empty summation that totals to $0$, and an expression
on the right of~$2^0-1=0$.)   
\end{exes}
\end{ans}
\end{ex}

\begin{ex}
Prove by induction, for $a,b,r\in\R$.
\begin{exes}
\item \notetext{Arithmetic series}
  $b+(a+b)+(2a+b)+\cdots+((n-1)a+b)=(n(n-1)/2)\cdot a+n\cdot b$
\item \notetext{Geometric series}
  $1+r+r^2+r^3+\cdots+r^n=(r^{n+1}-1)/(r-1)$ for $r\neq 1$
\end{exes}
\begin{ans}
\begin{exes}
\item The base step is~$n=1$.
The sum on the left has one term, $b$, while the expression on the right is     
$0\cdot a+1\cdot b$, so the two sides are equal.

For the inductive step assume that the statement holds when $n=1$, 
\ldots\,, $n=k$ and consider the $n=k+1$~case.
We have
$b+(a+b)+(2a+b)+\cdots+((k-1)a+b)+(ka+b)
=[(k(k-1)/2)\cdot a+k\cdot b]+(ka+b)
=[(2k+(k-1)k)/2]\cdot a+[k+1]\cdot b
=((k+1)(k)/2)\cdot a+(k+1)\cdot b$,
as required. 

\item The $n=0$ base step has the single term~$1$ in the left summation and
  $(r^1-1)/(r-1)$ on the right, and they are equal.

  For the inductive step assume that the statement is true for 
  $n=0$, \ldots\,, $n=k$.
  The $n=k+1$ case is
  $1+r+r^2+r^3+\cdots+r^k+r^{k+1}
  =(r^{k+1}-1)/(r-1)+r^{k+1}
  =[r^{k+1}-1+r^{k+1}(r-1)]/(r-1)
  =[r\cdot r^{k+1}-1]/(r-1)
  =(r^{k+2}-1)/(r-1)$ for $r\neq 1$.
\end{exes}
\end{ans}
\end{ex}

\begin{ex}
Prove by induction that $n<2^n$ for all $n\in\N$.  
\begin{ans}
The $n=0$ base case is that $0$ is less than~$2^0$, which is true.

For the inductive step assume that the statement holds when 
$n=0$, \ldots\,, $n=k$ and  consider case~$n=k+1$.
We have $k+1<2^k+1\leq 2^{k+1}$ (the second holds because $2^k<2^{k+1}$). 
\end{ans}
\end{ex}

\begin{ex}
Prove that $n+1$-term sums of reals commute
$a_0+a_1+\cdots+a_{n-1}=a_{n-1}+\cdots+a_0$ for all $n\geq 1$,
starting from the assumption that sums of two terms commute.
\begin{ans}
The $n=1$ base step is the commutativity assumption $a_0+a_1=a_1+a_0$.

For the inductive step assume the statement is true for all 
sums of~$n$ terms with 
with $1\leq n\leq k$, and consider $n=k+1$.
We have 
$a_0+a_1+\cdots+a_{k-1}+a_k
=(a_0+a_1+\cdots+a_{k-1})+a_k
=a_k+(a_0+a_1+\cdots+a_{k-1})$ with the second equality coming from
two-term commutativity.
By the inductive hypothesis that is equal to 
$a_k+(a_{k-1}+\cdots+a_0)=a_k+a_{k-1}+\cdots+a_0$.
\end{ans}
\end{ex}

\begin{ex}
The sequence of \definend{Fibonnacci numbers} is
$0,1,2,3,5,8,13, \ldots$\,, defined by the condition that 
the next number is the sum of the 
two prior numbers $f_{n+1}=f_n+f_{n-1}$, and with initial conditions
$f_0=0$ and~$f_1=0$.
What is wrong with this argument purporting to show that
all Fibonnacci numbers are even?
``The $n=0$ base case is clear.  For the inductive step, assume the statement 
is true for all cases up to and including $n=k$.
By definition 
the next case $f_{k+1}$ is the sum of the two prior numbers, which by
the inductive hypothesis are both even.  
Thus their sum is even.''   
\begin{ans}
The argument does not completely cover the $n=k+1$ case.
In that case, if $k=0$ the expression $f_{n+1}=f_n+f_{n-1}$ is undefined.  
\end{ans}
\end{ex}

\begin{ex}
Prove each by induction.
\begin{exes}
\item For all $n\in\N$, the number~$k^2+k$ is even.
\item For all $n\geq 2$ the number $n^3-n$ is divisible by $6$.
\item If $n\in\N$ then $4\divides 13^n-1$.
\item If $n\in\N$ then
    $(1+\sfrac{1}{1})\cdot(1+\sfrac{1}{2})\,\cdots\,(1+\sfrac{1}{n})=n+1$.
\end{exes}
\begin{ans}
\begin{exes}
\item For the $n=0$ base step observe that $0^2+0$ is even.
  For the inductive step assume the statement for $n=0$, \ldots\,, $n=k$
  and consider the $n=k+1$ case.
  We have $(k+1)^2+(k+1)=k^2+2k+1+k+1=(k^2+k)+(2k+2)$. 
  By the inductive hypothesis $k^2+k$ is even, and clearly $2k+2$ is even, 
  so the sum is even.
\item The base step is $n=2$.
  Since $6$ divides $2^3-2=8-2$, the statement holds in this case.

  For the inductive step assume that the statment is true for 
  the cases $n=0$, \ldots\,, $n=k$.
  In the $n=k+1$ case, consider 
  $(k+1)^3-(k+1)=(k^3+3k^2+3k+1)-(k+1)=(k^3+3k^2+3k)-k$.
  The inductive hypothesis gives that $6$ divides $(k^3-k)$ so we will
  be finished if we show it divides  $3k^2+3k$.
  We have $3k^2+3k=3\cdot k(k+1)$, and since
  $k(k+1)$ is even (this was shown in the prior item),
  the product is divisible by $6$.  
\item The $n=0$ base step is clear, since four divides $13^0-1=0$.
  For the inductive step assume that the statement is true for all cases 
  with $0\leq n\leq k$ and consider the $n=k+1$ case.
  We have $13^{k+1}-1=(13^{k+1}-13)+(13-1)=13(13^k-1)+12$.
  By the inductive hypothesis the first term is divisible by~$4$, while the
  second term is obviously divisible by~$4$, and so the statement holds in 
  this case.

  \textit{Comment.}
  This illustrates that 
  sometimes when you have finish a proof by induction, 
  while you now are sure that the statement is true, 
  you can nonetheless be left with the sense
  that you are not sure really \emph{why} it is true.
  For example, you can show that this statement holds in a 
  way that gives more intuition by plugging $13$ into the formula for a
  geometric series. 
\item The base step is a product with $n=1$~term.
  The left side is $(1+\sfrac{1}{1})=2$ while the right side is $1+1=2$,
  and they are equal.

  Assume the inductive hypothesis, that the statement is true for
  $n=1$, \ldots\,, $n=k$ and consider the $n=k+1$ case.
  We have
  $(1+\sfrac{1}{1})\cdot(1+\sfrac{1}{2})\,\cdots\,(1+\sfrac{1}{k})\cdot(1+\sfrac{1}{k+1})
  =
  (k+1)\cdot(1+\sfrac{1}{k+1})
  =(k+1)+(k+1)/(k+1)
  =k+2$.
\end{exes}
\end{ans}
\end{ex}

\noindent
Be aware that while many induction arguments use the inductive 
hypothesis only in the $n=k$ case,
some break from that pattern.

\begin{ex}
The game of Nim starts with two piles of $n$~chips.
Two players take turns picking a pile and removing 
some nonzero number of chips from that pile. 
The winner is the player who takes the final chip.
Prove by induction on~$n$ that the second player always wins by
playing this way: whatever number of chips the first player removes
from one pile, the second player removes the same number from the other pile.
\begin{ans}
The base step is where the two piles have $n=1$~chips.
The first player must pick a pile and must remove a chip, leaving one chip
in one pile, so the second player wins.

For the inductive step assume that the strategy wins when there are two piles
with $n=1$, \ldots\,, $n=k$~chips and consider two piles with
$k+1$~chips.
The first player picks a pile and removes some nonzero number of chips.
If the second player removes the same number of chips from the other
pile then we have reduced to a game with equal-sized piles, each
with~$k$ or fewer chips, which the inductive hypothesis says
is a win for the second player.  
\end{ans}
\end{ex}

\begin{df}
The \definend{principle of mathematical induction} is that a
statement is true for all natural numbers if it
meets two conditions: the base step that the statement is true for some
initial number~$j\in\N$,
and the inductive step that for any $k\in\N$, 
if the statement is true for 
all natural numbers $n$ with $j\leq n\leq k$ then the
statement is also true for~$k+1$.  
\end{df}

\noindent (Many authors reduce the two to a single condition: 
if the statement is true for all natural numbers less than~$k$
then the statement is also true for~$k$.
This formulation covers the base step by folding it into the 
implication because
the `if' part\Dash that the statement is true for all numbers prior to
the initial number\Dash is vacuously true, so the truth of the implication
follows only from the truth of the `then' clause.
Here we retain the base step, preferring to be explicit.)

\begin{df}
The \definend{well-ordering principle} 
(or the \definend{least number principle})
is that any nonempty 
subset of the natural
numbers has a least element.  
\end{df}

\begin{ex}
Show that the principle of induction implies the least number 
principle.
\hint
you can use induction to prove that if a set of natural numbers does not
have a least element then that set is empty.
\begin{ans}
We shall use induction to prove for all $n\in\N$ that if a set~$A$ 
of natural numbers has no
least element then $A$ does not contain~$n$.

The base case is easy since if $A$ were to contains~$0$ then it would
clearly have a least element.
For the inductive step assume that the statement is true in the cases
$n=0$, \ldots\,, $n=k$ and consider the statement in the case~$n=k+1$.
If~$A$ has no least element and~$A$ does not contain any of $0$, \ldots,~$k$ 
then~$A$ cannot contain~$k+1$ either, since it would be least.   
\end{ans}
\end{ex}





% .....................................
\section{Division}
We can generalize divisibility.

\begin{ex} \notetext{Division Theorem} We prove that 
where $a$ and $b>0$ are integers there are integers $q$ and~$r$
such that $a=bq+r$ and $r\in\set{0,\ldots,b-1}$,
breaking the argument into a few steps.
\begin{exes} 
\item Show that the statement is true for $a=0$.
  Show also that if the statement is true for~$a>0$ then it is true
  for~$a<0$. 
\item Prove the statement for $a>0$.
  \hint you can consider the set $\setbuilder{a-bq}{q\in\Z}$, note that
  because it has positive elements then by the Least Number principle
  it must have a smallest positive
  element, and show that this smallest positive element is the desired~$r$.
\item
  Prove that the $q$ and~$r$ are unique.
% \item 
% What to do if $b\leq 0$?
\end{exes}
\begin{ans}
\begin{exes}
\item
  If $a=0$ then the statement holds with $q=0$ and~$r=0$.
  Next assume that the statement holds for any positive~$a$ 
  and consider a negative~$a$.
  Then since $-a$ is positive we have that there exist 
  $q\in\Z$ and $r\in\set{0,\ldots,b-1}$ with $-a=bq+r$.
  Multiplying through by $-1$ gives $a=b(-q)+r$.
\item We follow the hint.
  Consider the set $E=\setbuilder{a-bq}{q\in\Z}$.
  Because $a>0$, the element of~$E$ associated with $q=0$ is positive.
  By the Least Number Principle, $E$ has a smallest positive element.
  Call it~$r$.
  We will be finished if we show that~$r\in\set{0, \ldots , b-1}$.

  So suppose, to get a contradiction, that this number~$r$ is not in the set 
  $\set{0, \ldots , b-1}$.
  Since $r$ is an element of~$E$ there must be some associated
  $q_r\in\Z$ such that $r=a-b\cdot q_r$.
  The assumption that $r\notin\set{0, \ldots , b-1}$ gives that $r\geq b$
  and so that $r-b$ is a positive integer.
  Then $r-b=a-b\cdot (q_r-1)$ and so $r-b\in E$.
  This contradicts that~$r$ is the least element of~$E$ that is positive.
\item Suppose that $q_0,r_0\in\Z$ and $q_1,r_1\in\Z$ are such that
  $a=bq_0+r_0$ where $r_0\in\set{0, \ldots, b-1}$, and also
  $a=bq_1+r_1$ where $r_1\in\set{0, \ldots, b-1}$.
  Subtract to get $0=b\cdot(q_0-q_1)+(r_0-r_1)$ and $-b<r_0-r_1<b$.
  Rearrange the equation $-b\cdot(q_0-q_1)=(r_0-r_1)$,
  and divide by $-b$ to get $q_0-q_1=(r_0-r_1)/(-b)$.
  Thus  $-1<q_0-q_1<1$, and since $q_0-q_1\in\Z$ we have $q_0-q_1=0$.
  With that the equation $q_0-q_1=(r_0-r_1)/(-b)$ shows that $r_0-r_1=0$.
\end{exes}
\end{ans}
\end{ex}


\begin{df}
In the  $a=bq+r$ of the Division Theorem, 
$a$ is the \definend{dividend} and
$b$ is the \definend{divisor} while 
$q$ is the \definend{quotient} and~$r$ is the \definend{remainder}.  
\end{df}

Observe that in the Division Therem, $r=0$ if and only if $b\divides a$. 
From grade school we know an effective procedure, an algorithm, to 
determine the quotient and remainder.

\begin{df}
Where $b>0$ then the \definend{modulus} $a\bmod b$ 
is the remainder when $a$ is divided by~$b$.
Two numbers $a,c$ are \definend{congruent modulo $b$} $a\equiv c\pmod b$ 
if they have the same modulus with respect to~$b$.
\end{df}

\begin{ex}\pord
\begin{exes}
\item $a\bmod b=b\bmod a$
\item $a\bmod b=-a\bmod b$
\item $b\bmod b=1$    
\end{exes}
\begin{ans}
\begin{exes}
\item This is false.
  A counterexample is that $2\bmod 1=0$ but $1\bmod 2=1$.
\item This is false.
  A counterexample is that $1\bmod 3=0$ but $-1\bmod 3=2$.
\item This is false;
  $1\bmod 1=0$.     
\end{exes}
\end{ans}
\end{ex}

\begin{ex}
Prove that $a\equiv b\pmod m$ if and only if $m\divides (a-b)$,
that is, if and only if $a$ and~$b$ differ by a multiple of~$m$.  
\begin{ans}
If $a\equiv b\pmod m$ if and only if they leave the same remainder,
$a=mq_a+r$ and~$b=bq_b+r$ for some $q_a,q_b\in\Z$.
That's equivalent to $a-b=m\cdot(q_a-q_b)$, 
which is true if and only if $a-b$ is divisible by~$m$.
\end{ans}
\end{ex}

\begin{ex}
Let $a,b,c,d,m$ be integers with $m>0$ and
$a\equiv b\pmod m$ and $c\equiv d\pmod m$.
Prove each.
\begin{exes}
\item $a+c\equiv b+d\pmod m$
\item $ac\equiv bd\pmod m$
\item $a^n\equiv b^n\pmod m$ for all $n\in\Z^+$.
\end{exes}
\begin{ans}
\begin{exes}
\item By the prior exercise, $a\equiv b\pmod m$ holds iff 
  $(a-b)$ is a multiple of~$m$, 
  so $a-b=mi$ for some~$i\in\Z$.
  Similarly, $c\equiv d\pmod m$ holds iff $m\divides (c-d)$, 
  so $c-d=mj$ for some~$j\in\Z$.
  Adding gives $(a+c)-(b+d)=m(i+j)$, which holds if and only if
  $m\divides (a+c)-(b+d)$, which in turn is equivalent to
  $a+c\equiv b+d\pmod m$.
\item We have that $a\equiv b\pmod m$ holds if and only if
  $a$ and~$b$ differ by a multiple of~$m$, so 
  $a=b+mi$ for some~$i\in\Z$. 
  Similarly $c=d+mj$ for some~$j\in\Z$.
  Multiplying gives $ac=bd+m\cdot(id+mij+jb)$, 
  which is equivalent to $ac\equiv bd\pmod m$. 
\item We will show this by induction on the power~$n$.
  The $n=1$ base step is true by the introductary assumption that 
  $a\equiv b\pmod m$.
  For the inductive step assume that the statement is true in the cases
  $n=1$, \ldots\,, $n=k$.
  The $k+1$ case is an application of the prior item with 
  $a^k\cdot a$ on the left of the equivalence and $b^k\cdot b$ on the
  right.
\end{exes}
\end{ans}
\end{ex}

\begin{df}
For any real number~$x$,
its \definend{floor} $\floor{x}$ is
the greatest integer less than or equal to~$x$.  
\end{df}

\begin{ex} Prove each.
\begin{exes} 
\item The quotient when $a$ is divided by $b$ is $\floor{a/b}$.
\item $a =b\cdot\floor{a/b}+a\bmod b$.    
\item $b\cdot(a\bmod m)=(ba)\bmod{(bm)}$.    
\end{exes}
\begin{ans}
\begin{exes}
\item The quotient~$q$ when $a$ is divided by~$b$ is defined by the
  property that $a=bq+r$ where~$r\in\set{0,\ldots,b-1}$.
  So to show that $\floor{a/b}$ is the quotient we must show that 
  the remainder~$a-b\floor{a/b}$
  lies in the set $\set{0,\ldots\,,b-1}$, that is, 
  we must show that $\floor{a/b}$ has the property 
  that $0\leq a-b\floor{a/b}\leq b-1$.
  
  By the definition of floor, $x-1<\floor{x}\leq x$ for any real~$x$. 
  Thus we have
  $(a/b)-1< \floor{a/b}\leq a/b$ and multiplication by~$b$ gives
  $a-b< b\cdot\floor{a/b}\leq a$.
  Therefore $b\cdot\floor{a/b}$ is at a minimum $0$ less than~$a$, and
  at a maximum $b-1$ less than~$a$, as required.
\item This is immediate from the prior item and the 
  definition of $a\bmod b$ as the remainder.
\item Where $a, b, m\in\Z$ and $m>0$ we have
  $b\cdot(a\bmod m)=b\cdot(a-m\floor{a/m})
  =ba- bm\floor{a/m}
  =ba- bm\floor{ba/bm}
  =ba\bmod bm$.    
\end{exes}
\end{ans}
\end{ex}


\begin{ex}\notetext{Pigeonhole principle}  Prove each.
\begin{exes}
\item Let $B$ be a finite list of numbers.
  Its maximum number is at least as big as its average.
\item If you put $n$~many papers into fewer than $n$~many 
  pigeonholes then at least one hole gets at least two papers.    
\end{exes}
\end{ex}




% .....................................
\section{Primes}
\begin{df}
Let $n$ be an integer greater than or equal to~$2$.
Then $n$ is \definend{prime} if its only divisors are itself and~$1$,
else it is \definend{composite}.  
\end{df}

\begin{ex}\pord.
An integer $n>1$ is composite if and only if it has factors $a,b$ such that
$1<a,b<n$.  
\end{ex}

\begin{ex}
\begin{exes}
\item Every number greater than $1$ has a prime divisor.
\item Every number $n>1$ has a prime divisor~$p$ with $p\leq \sqrt{n}$.
\item Show that the inequality cannot be made strict.     
\end{exes}
\end{ex}

\begin{ex}[Euclid's Theorem]
There are infinitely many primes.  
\end{ex}

\begin{ex} Suppose that $p$ is a prime.  Prove each.
\begin{exes}
\item If  $p\divides ab$ then either $p\divides a$ or
$p\divides b$.
\item If $p\divides a_1\cdot a_2\cdots a_n$ then 
$p$ divides at least one~$a_i$.    
\end{exes}
\end{ex}

\begin{ex}[Fundamental Theorem of Arithmetic]  Prove.
\begin{exes}
\item Any number $n>1$ can be written as a product of primes
$n=p_1^{e_1}p_2^{e_2}\cdots p_k^{e_k}$.
\item That factorization is essentially unique:~if 
$n=p_1^{e_1}p_2^{e_2}\cdots p_k^{e_k}$ and we write the primes
in ascending order $p_1<p_2<\cdots<p_k$ then any other
factorization of~$n$ into a product of primes in ascending order will give the
same result.      
\end{exes}
\end{ex}

\begin{ex} Prove (the second item, showing the existence of real numbers that
are not rational, is classically important).
\begin{exes}
\item Prove that if a number is a square then in its prime factorization 
  each prime occurs an even number of times.
\item Prove that $\sqrt{2}$ is irrational.
\item Generalize the first item to any power.
\item Generalize the second item.    
\end{exes}
\end{ex}


% .....................................
\section{Common divisors and multiples}

\begin{df}
An integer is a \definend{common divisor} of two other integers if it
divides both of them.
The \definend{greatest common divisor} of two integers 
is the largest of their common divisors,
except that we take the greatest common divisor of $0$ and $0$ 
to be $0$.
We write $\gcd(a,b)$ for the greatest common divisor
of $a$ and~$b$.
\end{df}

% \begin{ex}
% Generalize the definition to sets of integers.
% \end{ex}

\begin{ex}
We will focus on the two integer case.  Prove each.
\begin{exes} 
\item For any two number $a,b$ the greatest common divisor exists.
\item $0\leq \gcd(a,b)\leq\min(\absval{a},\absval{b})$.
\item If either $a$ or $b$ is nonzero then the left-hand
  inequality in the prior item is strict.
\item If $a>0$ then $\gcd(a,0)=a$.
\item $\gcd(a,a)=\absval{a}$
\item $\gcd(a,b)=\gcd(b,a)$
\item $\gcd(a,b)=\gcd(\absval{a},\absval{b})$
\end{exes}  
\end{ex}

\begin{ex}\pord.
\begin{exes}
\item $\gcd(ca,cb)=c\cdot\gcd(a,b)$
\item $\gcd(a+b,c)=\gcd(a,c)+\gcd(b,c)$
\item $\gcd(ab,c)=\gcd(a,c)\cdot\gcd(b,c)$    
\end{exes}
\end{ex}

\begin{ex}
Assume that two numbers have prime factorizations 
of $a=p_1^{e_1}\cdots p_n^{e_n}$
and $b=p_1^{f_1}\cdots p_n^{f_m}$.
Prove that in the prime factorization of
$\gcd(a,b)$ the exponent of $p_i$ is $\min(e_i,f_i)$.
\end{ex}

\begin{df}
Two numbers are \definend{relatively prime} (or \definend{coprime}) if their greatest common
divisor is $1$.
\end{df}

People sometimes write $\gcd(a,b)=1$ as $a\perp b$.

\begin{ex}
\begin{exes}
\item $\gcd(a,b)=1$ iff $\gcd(b,a)=1$
\item If $\gcd(a,b)=d$ then $\gcd(a/d, b/d)=1$.
\item Is the converse true?    
\end{exes}
\end{ex}

\begin{ex}
Give (and prove) a condition of the prime factorizations of $a$ and~$b$
equivalent to their being relatively prime.
\end{ex}

\begin{ex}\notetext{Euclid's algorithm}
Prove that if $a=bq+r$ then $\gcd(a,b)=\gcd(b,r)$.  
\end{ex}

The algorithm for which this result is named finds the greatest common
divisor.  For instance, to find $\gcd(803,154)$ compute that
$803=154\cdot 5+33$ and apply the result to get that 
$\gcd(803,154)=\gcd(154,33)$.
Now since $154=33\cdot 4+22$ the result gives
$\gcd(154,33)=\gcd(33,22)$.
By eye we spot the answer of $11$ but continuing as though we hadn't noticed
we get $33=22\cdot 1+11$, so $\gcd(33,22)=\gcd(22,11)$.
Then $22=11\cdot 2+0$ tells us that $\gcd(22,11)=11$, and the algorithm 
terminates.

\begin{ex}
Use Euclid's Algorithm.
\begin{exes}
\item $\gcd(15,25)$
\item $\gcd(48,732)$  
\end{exes}
\end{ex}

We can perform Euclid's algorith in reverse.
For instance, from $33=22\cdot 1+11$ we can rewrite to 
express the greatest common divisor $11$ as a combination 
$11=1\cdot 33-1\cdot 22$.
The equation $154=33\cdot 4+22$ gives a way to express
the $11$ as a combination of the prior pair
$11=1\cdot 33-1\cdot (154-4\cdot 33)=-1\cdot 154+5\cdot 33$.
Backing up still further, the equation 
$803=154\cdot 5+33$
gives $11=-1\cdot 154+5\cdot (803-5\cdot 154)=5\cdot 803-26\cdot 154$
as a combination of the pair of numbers that started the
Euclid's algorithm example.

\begin{df}
A number $c$ is a \definend{linear combination} of two others $a$ and~$b$
if it has the form $c=a\cdot m+b\cdot n$ for some $m,n\in\Z$.  
\end{df}

\begin{ex}\notetext{B\'ezout's Lemma}
\begin{exes}
\item Any common divisor of $a$ and~$b$ is a divisor of 
any linear combination of the two.
\item The greatest common divisors of two numbers is a linear combination of 
those two.
\item The greatest common divisor of two numbers is the smallest positive
number that is a linear combination of the two.
\end{exes}
\end{ex}

\begin{ex}
If $a\divides bc$ and $a$ is relatively prime to $b$ then $a\divides c$.  
\end{ex}

\begin{df}
The \definend{least common multiple} of two numbers is the smallest number
that is a multiple of each.
We write $\lcm(a,b)$.
\end{df}

\begin{ex} 
\begin{exes}
\item The least common multiple of any two integers exists.
% \item Generalize to sets of integers.
\item $\lcm(a,b)=\lcm(b,a)$.
\end{exes}
\end{ex}

\begin{ex}
Where the prime factorizations are $a=p_1^{e_1}\cdots p_n^{e_n}$
and $b=p_1^{f_1}\cdots p_n^{f_m}$, 
in the prime factorization of $\lcm(a,b)$ the exponent of 
$p_i$ is $\max(e_i,f_i)$.
\end{ex}

\begin{ex}
Prove that $\lcm(a,b)=ab/\!\gcd(a,b)$.
\end{ex}











%===================================================
\chapter{Sets}
\begin{df}
A \definend{set} is a collection of objects that is definite\Dash every 
object is either
definitely in the set or definitely not in the set.
An object~$x$ that is in a set~$A$ is an \definend{element}
or \definend{member}
of the set, written $x\in A$
(to denote that $x$ is not an element of $A$ write~$x\notin A$).
Two sets are equal if they have the same elements.
\end{df}
\noindent (Read $\in$ as ``is an element of'' rather than ``in'' since the 
latter word causes confusion with 
the subset relation defined below.)
As a symonym for set we sometimes use ``collection.''

We often define a set by either listing or describing its elements.
Thus we could write 
the set containing the primes less than ten 
either as $\set{2, 3, 5, 7}$ or as~$\set{p<10\suchthat \text{$p$ is prime}}$.

\begin{ex} \pord.
\begin{exes}
\item $\set{1,3,5}=\set{5,3,1}$    
\item $\set{2, 4, 6}=\set{2, 4, 6, 4}$    
\item $\set{1, 3}=\set{n\in\N\suchthat n<5}$ 
\item $0\in\Z^+$   
% \item $4\in\set{n\in\N\suchthat n^2<50}$
\end{exes}
\end{ex}

\begin{df}
The set with no elements is the \definend{empty set\/} $\emptyset$.  
\end{df}

\begin{df}
The set~$B$ is a \definend{subset} of the set~$A$
if every element of $B$ is an element of~$A$,
that is, if $x\in B$ implies that~$x\in A$.
It is denoted $B\subseteq A$.
\end{df}

\begin{ex} \pord.
\begin{exes}
\item $\set{1,3,5}\subseteq\set{1,3, 5, 7, 9}$
\item $\set{1, 3, 5}\in\set{1, 3, 5, 7, 9}$   
\item $\set{1,3,5}\subseteq\setbuilder{n\in\N}{\text{$n$ is prime}}$
\item $\emptyset\subseteq\set{1, 2, 3, 4}$
\item $\N\subseteq\Z$
\item $\set{2}\in\set{1, \set{2}, 3}$
\item $\set{2}\subseteq\set{1, \set{2}, 3}$
\end{exes}
\end{ex}

\begin{ex} Prove for all sets $A$.
\begin{exes}
\item $A\subseteq A$ and $\emptyset\subseteq A$
\item The empty set is unique: if $A$ is empty and $B$ is empty then $A=B$.
\end{exes}
\end{ex}

\begin{ex}
\begin{exes} 
\item \notetext{Mutual inclusion}
  Prove that if $A\subseteq B$ and $B\subseteq A$ then $A=B$.  
\item \notetext{Transitivity}
  Prove that if $A\subseteq B$ and~$B\subseteq C$ then~$A\subseteq C$.  
\end{exes}
\end{ex}

\begin{ex} For each, give example sets or show it is not possible.
\begin{exes}
\item $A\subseteq B$, $B\not\subseteq C$, $A\subseteq C$
\item $A\not\subseteq B$, $B\not\subseteq C$, $A\subseteq C$
\item $A\not\subseteq B$ $B\subseteq C$, $A\subseteq C$    
\end{exes}
\end{ex}

We will always work inside of a \definend{universal set}.
For instance, while we are doing number theory we may consider 
the set of objects less than $100$,
but in the context of that discussion the universal set is $\Z$ 
so we are considering the set of integers less than $100$.

\begin{df}
The \definend{characteristic function} of a set~$A$ is a map
$\charfcn{A}$ (whose domain is the universal set) such that
$\charfcn{A}(x)=1$ for $x\in A$, and $\charfcn{A}(x)=0$ for $x\notin A$.  
\end{df}

\begin{ex} \notetext{Russell's paradox}
Consider a collection that contains everything.
That collection contains itself.
Let $C$ be the set of all sets that contain themselves, and let
$D$ be the set of all sets that don't contain themselves.
\begin{exes}
\item Show that assuming $D$ contains itself leads to a contradiction.
\item Show that assuming $D$ does not contain itself also leads to a
contradiction.  
\end{exes}
\end{ex}






% .....................................
\section{Operations}

\begin{df}
Let $A$ be a set.
The \definend{complement} of $A$, denoted $\setcomp{A}$, is the 
set of objects that are not elements of~$A$.  
\end{df}

One reason for working inside a universal set is that it makes the complement
operation easier. 
For instance, in a discussion of number theory where $A$ is the set of 
things that are less than~$100$ we can take the complement and we needn't 
worry about picking up unwanted objects such as $\pi$.

\begin{ex}
Prove that the complement of the complement is the original set
  $\setcomp{\setcomp{A}}=A$. 
\end{ex}

\begin{df}
Let $A$ and $B$ be sets.
Their \definend{union} is the set of elements 
from either set 
$A\union B=\setbuilder{x}{\text{$x\in A$ or $x\in B$}}$.  
Their \definend{intersection} is the set of elements 
from both sets
$A\intersection B=\setbuilder{x}{\text{$x\in A$ and $x\in B$}}$.  
\end{df}

\begin{ex}
Give the formula relating $\charfcn{A}$ and $\charfcn{B}$ to
  $\charfcn{A\intersection B}$.
Do the same for union.
Do the same for complementation.
\end{ex}

Picture set operations with \definend{Venn diagrams}.
\begin{center}
  \grf{asy/venn_union.pdf}{$A\union B$}
  \hspace*{3em}
  \grf{asy/venn_int.pdf}{$A\intersection B$}
  \hspace*{3em}
  \grf{asy/venn_comp.pdf}{$\setcomp{A}$}
\end{center}
In each diagram
the region inside the rectangle depicts the universal set and the 
region inside each circle depicts the set.
On the left the part in mauve shows 
the union as containing all of the two sets joined, 
the middle shows the intersection
containing only the region common to both,
and on the right the mauve region is all but the set.

\begin{df}
The \definend{difference} of two sets is $A-B=\setbuilder{x\in A}{x\notin B}$.  
The \definend{symmetric difference} is 
$A\symdiff B=(A-B)\union(B-A)$.
\end{df}

\begin{ex}
Draw the Venn diagram for difference and symmetric difference.  
\end{ex}

\begin{ex} \pord.
\begin{exes}
\item If $A\subseteq X$ then $X-A$ is the same as $\setcomp{A}$ where
$X$ is the universal set.     
\item $A-B\subseteq A$
\item $A-B=A\intersection\setcomp{B}$
\item For all pairs of sets, $A-B=B-A$.
\item For all pairs of sets, $A\symdiff B=B\symdiff A$.
\end{exes}
\end{ex}

\begin{ex}\notetext{DeMorgan's Laws}
\begin{exes}
\item $A\union\emptyset=A$ and $A\intersection\emptyset=\emptyset$
\item \notetext{Idempotence} $A\union A=A$ and $A\intersection A=A$  
\item $A\intersection B\subseteq A\subseteq A\union B$  
\item \notetext{Commutativity}
   $A\union B=B\union A$ and $A\intersection B=B\intersection A$
\item \notetext{Associativity} 
  $(A\union B)\union C=A\union (B\union C)$
  and $(A\intersection B)\intersection C=A\intersection (B\intersection C)$
\item 
  $\setcomp{A\union B}=\setcomp{A}\intersection\setcomp{B}$
  and 
  $\setcomp{A\intersection B}=\setcomp{A}\union\setcomp{B}$
\item \notetext{Distributivity} 
$A\union (B\intersection C)=(A\union B)\intersection (A\union C)$
 and $A\intersection (B\union C)=(A\intersection B)\union (A\intersection C)$
\end{exes}
\end{ex}

\begin{df}
Two sets are \definend{disjoint} if their intersection is empty.  
\end{df}

\begin{ex}
\begin{exes}
\item \pord: $A\intersection B$ and $A\symdiff B$ are disjoint.  
\item Find three sets $A$, $B$, and $C$, such that 
$A\intersection B\intersection C$ is empty but the sets are
not pairwise disjoint, that is, none of $A\intersection B$, 
$A\intersection C$, or $B\intersection C$ is empty. 
\end{exes}
\end{ex}

\begin{df}
For a finite set~$A$, the \definend{order} $|A|$ is the number of elements.
\end{df}

% \begin{ex}
% For finite sets, if $A\subseteq B$ then $|A|\leq |B|$
% \end{ex}

\begin{df}
For a set~$A$ the \definend{power set} is $\powerset(A)$ is the set of all
subsets of~$A$.
\end{df}

\begin{ex} List 
 $\powerset(\set{a,b})$,   
 $\powerset(\set{a,b,c})$,   
 $\powerset(\set{a})$, and   
 $\powerset(\emptyset)$.   
\end{ex}

\begin{ex}  Let $A=\set{\emptyset,\set{\emptyset}}$. \pord.
\begin{exes}
\item $\emptyset\in\powerset(A)$    
\item $\emptyset\subseteq\powerset(A)$    
\item $\set{\emptyset}\in\powerset(A)$    
\item $\set{\emptyset}\subseteq\powerset(A)$    
\item $\set{\set{\emptyset}}\in\powerset(A)$    
\item $\set{\set{\emptyset}}\subseteq\powerset(A)$    
\end{exes}
\end{ex}

\begin{ex} \pord:
if $A\subseteq B$ then $\powerset(A)\subseteq\powerset(B)$.  
\end{ex}

\begin{ex} Prove.
\begin{exes}
% \item $\powerset(A)\subseteq \powerset(B)$ iff $A\subseteq B$  
\item $\powerset(A)=\powerset(B)$ iff $A= B$  
\item Where~$A$ is a finite set, $|\powerset(A)|=2^{|A|}$.    
\end{exes}
\end{ex}





% .....................................
\section{Cartesian product}

\begin{df}
The \definend{sequence\/} 
formed from $x_0$, $x_1$, \ldots, $x_{n-1}$ is written
$\seq{x_0, x_1, \ldots, x_{n-1}}$.
The \definend{length} of a sequence $\lh(\seq{x_0, x_1, \ldots, x_{n-1}})$
is the number of entries.
Two sequences $\seq{x_0, x_1, \ldots, x_{n-1}}$ and
$\seq{y_0, y_1, \ldots, y_{n-1}}$ are equal if and only if
they have the same length and
the same members in the same order:
$x_0=y_0$, $x_1=y_1$, \ldots, $x_{n-1}=y_{n-1}$. 
\end{df}

\begin{ex}\pord.
\begin{exes}
\item $\set{3, 4, 5}=\set{4, 3, 5}$
\item $\sequence{3, 4, 5}=\sequence{4, 3, 5}$
\item $\set{3, 4, 4, 5}=\set{4, 3, 5}$
\item $\sequence{3, 4,4,5}=\sequence{3,4,5}$  
\end{exes}
\begin{ans}
 Test Test Test.
\end{ans}
\end{ex}

\begin{df}
The \definend{Cartesian product} of the sets $A_0$, $A_1$, \ldots, $A_{n-1}$ 
is the set of all length~$n$ sequences
$A_0\times A_1\times \cdots \times A_{n-1}
  =\setbuilder{\sequence{a_0,a_1,\ldots,a_{n-1}}}{\text{$a_0\in A_0$, \ldots, and~$a_{n-1}\in A_{n-1}$}}$.

If the sets are the same then 
a sequence of length~$2$ may be called an \definend{ordered pair} and 
written with parentheses $(x_0,x_1)$
(similarly we have ordered triples, four-tuples, etc.).
In this case we often write $A\times\cdots\times A$ 
as~$A^n$.
\end{df}

Thus, we write 
Cartesian coordinates in the plane as members of
$\R^2=\setbuilder{(x,y)}{x,y\in\R}$.

\begin{ex}
\pord:  $\N^2\subseteq \Z^2$.  
\end{ex}

\begin{ex}
\begin{exes}
\item $A\times \emptyset=\emptyset$.
  What about $\emptyset\times A$?
\item $A\times B=\emptyset$ iff $A=\emptyset$ or~$B=\emptyset$
\item Prove that there are sets so that $A\times B\neq B\times A$.
\item Under what circumstances is $A\times B=B\times A$?
\item Is $(A\times B)\times C$ equal to $A\times (B\times C)$?
\item Prove that $A\times B\subseteq A^\prime\times B^\prime$ if and only if
  $A\subseteq A^\prime$ and $B\subseteq B^\prime$.
\end{exes}
\end{ex}

\begin{ex} \notetext{Interaction between Cartesian product and 
other set operations}
\begin{exes}
\item $(A\union B)\times C=(A\times C)\union(B\times C)$
\item What happens for intersection?
\item $(A\times B)\union (C\times D)\subseteq ()A\union C\times (B\union D)$
\item What happens for intersection?
\item What happens for complement?
\end{exes}
\end{ex}











%===================================================
\chapter{Functions, relations}
\begin{df}
A \definend{function}~$f$ (or \definend{map} or \definend{morphism}) 
from \definend{domain} set~$D$
to \definend{codomain} set~$C$, written $\map{f}{D}{C}$,
consists of the two sets along with a \definend{graph}, 
a set of pairs $(d,c)\in D\times C$ that is 
\definend{well-defined}: for each $d\in D$ there is
exactly one $c\in C$ such that $(d,c)\in f$. 
Functions are equal only if they have the same domain, codomain,
and graph.

Thus a function associates each element~$d$ from the domain,
called an \definend{argument} (or~\definend{input}),
with an element~$c$ from the codomain, 
called a~\definend{value} (or~\definend{output}). 
We write $f(d)=c$ and say that $c$ is the \definend{image} of $d$ 
or that $d$ \definend{maps to}~$c$.
\end{df}

A \definend{bean diagram} pictures a function by drawing the domain and 
codomain as blobs and 
either showing the function as a whole as a simple arrow   
or showing the function's action on individual elements 
with arrows that begin with a vertical bar.
\begin{center}
  \grf{asy/bean_fcn.pdf}{$\map{f}{D}{C}$}
  \hspace{8em}
  \grf{asy/bean_fcn_elets.pdf}{$a\mapsunder{}f(a)$ and $b\mapsunder{}f(b)$}
\end{center}
In place of $\map{f}{D}{C}$ you may see $D\mapsvia{f} C$ and
in place of $f(d)=c$ you may see $d\mapsunder{f}c$.

\begin{ex} \pord{} that each is a function.\label{FindFunctions}
\begin{exes}
\item $D=\set{0,1,2}$, $C=\set{3,4,5}$,
  $G=\set{(0,3), (1,4), (2,5)}$    
\item $D=\set{0,1,2}$, $C=\set{3,4,5}$,
  $G=\set{(0,3), (1,4), (2,3)}$    
\item $D=\set{0,1,2}$, $C=\set{3,4,5}$,
  $G=\set{(0,3), (1,4)}$    
\item $D=\set{0,1,2}$, $C=\N$,
  $G=\set{(0,3), (1,3), (2,3)}$    
\item $D=\N$, $C=\N$,
  $G=\set{(0,3), (1,4), (2,5)}$    
\item $D=\set{0,1,2}$, $C=\set{3,4,5}$,
  $G=\set{(0,3), (1,4), (0,5)}$    
\item $D=\N$, $C=\N$,
  $G=\setbuilder{(d,c)\in D\times C}{c=d^2}$    
\end{exes}
\end{ex}

We often ignore the distinction between a function and its graph
and just
think of the function as the set of ordered pairs.
(The graph is in the definition only 
because the codomain cannot be recovered
from the set of ordered pairs, so the function must be 
given as a tuple.)

\begin{ex}
Let $D$ and $C$ be finite sets.
How many maps are there from $D$ to $C$?
\end{ex}

\begin{df}
A \definend{constant function} $\map{f}{D}{C}$ has  
$f(d_0)=f(d_1)$ for all $d_0,d_1\in D$.
\end{df}\begin{df}
An \definend{identity function} $\map{\identity}{D}{D}$ has
$\identity(d)=d$ for all $d\in D$.
\end{df}

A function may have multiple arguments; one example is 
$(x,y)\mapsunder{f}x^2-2y^2$.
We would write this map $\map{f}{\R^2}{\R}$ as 
$f(x,y)$ rather than
$f((x,y))$.
The number of arguments is the function's \definend{arity}.

\begin{df}
The \definend{range} of a function $\map{f}{D}{C}$,
denoted  $f(D)$ or $\range(f)$,
is the set
$\setbuilder{y\in C}{\text{there is a $x\in D$ such that $f(x)=y$}}$.
\end{df}

\begin{ex}
Find the range of each function in \cref{FindFunctions}.  
\end{ex}

\begin{df}
Let $\map{f}{D}{C}$.
The \definend{restriction} of $f$ to $B\subseteq D$ is
the function $\map{\restrictionmap{f}{B}}{B}{C}$ whose action is given by 
$\restrictionmap{f}{B}(b)=f(b)$ for all $b\in B$.
A synonym is that
$f$ is an \definend{extension} of~$g$.

The \definend{image} of the set $B$ under $f$, 
denoted $f(B)$ or $\image(f)$,
is the range of the function $\restrictionmap{f}{B}$.
\end{df}

\begin{df}
Let $\map{f}{D}{C}$.
The \definend{inverse image of the element}~$c\in C$ is
the set $f^{-1}(c)=\setbuilder{d\in D}{f(d)=c}$.
The \definend{inverse image of the set}~$A\subseteq C$
is the set $f^{-1}(A)=\setbuilder{d\in D}{f(d)\in A}$   
\end{df}

\begin{ex}
Prove that $f^{-1}(A)$ is the union of the sets $f^{-1}(c)$ for all $c\in A$.
\end{ex}





% .....................................
\section{Composition}

\begin{df}
The \definend{composition} of
the two functions
$\map{f}{D}{C}$ and $\map{g}{C}{B}$ 
is $\map{\composed{g}{f}}{D}{B}$ given by 
$\composed{g}{f}(d)=g(f(d))$.
\end{df}

\begin{center}
  \includegraphics{asy/bean_fcn_comp.pdf}  
\end{center}
Observe that although $g$ comes first when reading the expression 
$\composed{g}{f}$ 
from left to right, 
the function that is applied first is~$f$. 
Observe also that the codomain of~$f$ is the domain of~$g$
(we sometimes use a composition where the domain of~$g$ is not the 
entire codomain, but is a superset of the range of~$f$).

\begin{ex} Let $D=\set{0,1,2}$, $C=\set{a,b,c,d}$, 
and $B=\set{\alpha,\beta,\gamma}$
Suppose that $\map{f}{D}{C}$ is given by $0\mapsunder{} a$, $1\mapsunder{} c$, 
$2\mapsunder{} d$ and that $\map{g}{C}{B}$
is given by 
$a\mapsunder{}\alpha$, $b\mapsunder{} \beta$, $c\mapsunder{}\gamma$,
and $d\mapsunder{}\alpha$.
\begin{exes}
\item Compute $\composed{g}{f}$ on all arguments or show the composition
  function is not defined.
\item Compute $\composed{f}{g}$ on all arguments or show it is not defined.
\item Find the range of $f$, $g$, and $\composed{g}{f}$.    
\end{exes}
\end{ex}

\begin{ex}
Let $\map{f}{\R}{\R}$ be $f(x)=x^2$ and let $\map{g}{\R}{\R}$ be~$g(x)=3x+1$.
Find the domain, codomain, and a formula for each of
$\composed{g}{f}$ and $\composed{f}{g}$.  
\end{ex}

\begin{ex}Prove each.
\begin{exes}
\item Composition need not be commutative.
\item\notetext{Associativity} 
  $\composed{h}{(\composed{g}{f})}=\composed{(\composed{h}{g})}{f}$    
% \item $g(f(A))=\composed{g}{f}(A)$
% \item $(\composed{g}{f})^{-1}(C)=f^{-1}(g^{-1}(C))$
\end{exes}
\end{ex}





% .....................................
\section{Inverse}

The definition of function specifies that for every argument there is 
exactly one associated value.

\begin{df}
A function is \definend{one-to-one} (or an \definend{injection}) 
if for each value there is at most
one associated argument, that is, if $f(d_0)=f(d_1)$ implies that $d_0=d_1$
for elements $d_0,d_1$ of the domain.
A function is \definend{onto} (or a \definend{surjection}) 
if for each value there is at least
one associated argument, that is, if for each element $c$ of the codomain
there exists an element $d$ of the domain such that $f(d)=c$.
A function that is both one-to-one and onto, so that for every value there
is exactly one associated argument, is a 
\definend{correspondence} (or \definend{bijection}, or \definend{permutation}).
\end{df}

\begin{ex}
If $D$ and~$C$ are finite sets and there is a 
correspondence~$\map{f}{D}{C}$
then the two sets
have the same number of elements.  
\end{ex}

\begin{ex} Prove.
\begin{exes}
\item A composition of one-to-one functions is one-to-one.
\item A composition of onto functions is onto.
\item A composition of correspondences is a correspondence.    
\end{exes}
\end{ex}

\begin{ex} 
\begin{exes}
\item If $g\circ f$ is onto then $g$ is onto.
\item If $g\circ f$ is one-to-one then $f$ is one-to-one.
\item Do the other two cases hold?     
\end{exes}
\end{ex}

\begin{df}
A function \definend{inverse} to $\map{f}{D}{C}$ is 
$\map{f^{-1}}{C}{D}$ such that 
$\composed{f^{-1}}{f}$ is the identity map on~$D$ and
$\composed{f}{f^{-1}}$ is the identity map on~$C$.
\end{df}

\begin{ex} 
\begin{exes}
\item Let $\map{s}{\R^+}{\R}$ be~$s(x)=x^2$ and let
  $\map{r}{\R^+}{\R^+}$ be $r(x)=\sqrt{x}$.
  Show that $r$ is inverse to $s$.    
\item Let $\map{f}{\Z}{\Z}$ be~$f(x)=x+3$ and let
  $\map{g}{\Z}{\Z}$ be $g(x)=x-3$.
  Show that $g$ is inverse to $f$.
\item Show that $s$ is inverse to $r$, and that $f$ is inverse to~$g$.
\item Let $\map{h}{\N}{\N}$ be the function that returns
  $n+1$ if $n$ is even, and returns $n-1$ if $n$ is odd.
  Find a function inverse to~$h$.
\item Show that $\map{t}{\R}{\R}$ given by $t(x)=x^2$
  has no inverse.
\end{exes}
\end{ex}

\begin{ex}
  Find a pair of maps $\map{f}{D}{C}$ and $\map{g}{C}{D}$
  such that $\composed{g}{f}$ is the identity but $\composed{f}{g}$
  is not.
  (We say that $g$ is a \definend{right inverse} of~$f$, or what is the
  same thing, that $f$ is a \definend{left inverse} of~$g$).
\end{ex}

\begin{ex} Prove each.
\begin{exes}
\item If a function has an inverse then that inverse
  is unique.
\item A function has an inverse if and only if that 
  function is a correspondence.
\item The inverse of a correspondence is a correspondence.  
\item If $f$ and $g$ each is invertable then so is 
  $\composed{g}{f}$, and $(\composed{g}{f})^{-1}=\composed{f^{-1}}{g^{-1}}$.
\end{exes}  
\end{ex}





% .....................................
\section{Relations}
\begin{df}
A \definend{relation} on sets $A_0$, \ldots, $a_{n-1}$ is a subset
$R\subseteq A_0\times \cdots \times A_{n-1}$. 
If all of the sets are the same $a_0=A$, \ldots, $A_{n-1}=A$
then we call it a relation on~$A$.
The number of sets~$n$ is the \definend{arity} of the relation.
and say it is \definend{$n$-ary}.
If the arity is~$2$ then it is a \definend{binary relation}.
In this case, if $R=\setbuilder{(x,y)}{\text{$x\in X$ and $y\in Y$}}$
then where $(x,y)\in R$ we say $x$ is \definend{$R$-related} to~$y$
and sometimes write $xRy$.
\end{df}

\begin{ex}
\begin{exes}
\item List five elements of the relation
  $R=\setbuilder{(x,y)\in \R^2}{x+2=y}$
\item Consider less-than $<$ as a binary relation on $\N$.
  List five elements.
\item List five elements of the relation
  $\setbuilder{(x,y,z)\in\N^3}{x^2+y^2=z^2}$
\item Show that if $\map{f}{D}{C}$ is a function then 
  its graph is a relation.
\item Let $\map{f}{D}{C}$ be a function.
  Show that 
  $R_f=\setbuilder{(x,y)}{f(x)=f(y)}$
  is a binary relation.
  Where $f(x)=x^2$ with domain and codomain~$\R$,
  list five elements. 
\end{exes}
\end{ex}

\begin{df} 
Let $R$ be a binary relation on a set~$X$.
The relation is \definend{reflexive} if $(x,x)\in R$ for all $x\in X$.
The relation is \definend{symmetric} if $(x,y)\in R$ implies that
$(y,x)\in R$ for all $x,y\in R$.
The relation is \definend{transitive} if 
$(x,y)\in R$ and $(y,z)\in R$ implies that 
$(x,z)\in R$ for all elements $x,y,z\in R$.
A relation that satisfies all three conditions is an
\definend{equivalence relation}.  
\end{df}

\begin{ex}   \pord{} that each is reflexive, symmetric, and transitive.
\begin{exes}
\item The ``goes into'' relation
  $D=\setbuilder{(d,m)\in\Z^2}{d\divides m}$.
\item
  For any set~$A$ the \definend{diagonal relation} on $A$ 
  is $\setbuilder{(x,x)}{x\in A}$. 
\item
  Where $A$ is a set,
  $E=\setbuilder{(x,y)\in A\times\powerset(A)}{x\in y}$.
\end{exes}
\end{ex}

\begin{ex} For each, find a binary relation satisfying the condition.
\begin{exes}
\item Not reflexive.
\item Not transitive.
\item Reflexive and symmetric but not transitive.
\item Transitive but not symmetric or reflexive.
\item Reflexive and transitive but not symmetric.
\item Symmetric and transitive but not reflexive. 
\end{exes}
\end{ex}

\begin{ex}
What is wrong with this purported proof that in the definition
of an equivalence relation, the condition of reflexivity is redundant?
\textit{For any $x$, symmetry is that $x∼y$ implies $y∼x$.
By transitivity we have $x∼y$ and $y∼x$ together imply that $x∼x$. 
Therefore, symmetry and transitivity together imply reflexivity.}  
\end{ex}

\begin{ex}
Recall that two integers have the same parity if they are both odd or 
both even.
Show that the binary relation 
$P=\setbuilder{(x,y)\in\Z^2}{\text{$x$ and $y$ have the same parity}}$  
is an equivalence.
\end{ex}

\begin{ex}
Fix a divisor $q\in\Z^+$.
Show that the relation 
$\setbuilder{(m,n)\in\N^2}{m\equiv n\pmod q}$  
is an equivalence.
\end{ex}

\begin{df}
If $R$ is an equivalence relation on~$X$ then instead of $(x,y)\in R$
we may write $x\equiv y\pmod R$.  
\end{df}

\begin{ex} \label{RationalsAsEqClasses}
\begin{exes}
\item Show that 
$\setbuilder{\big((p,q),(n,d)\big)\in \Z\times\Z^+}{pm=qn}$
is an equivalence relation.
\item List five elements.
\end{exes}
\end{ex}

\begin{ex} \label{PlaneLinesAsClasses}
\begin{exes}
\item Let $X$ be the set of lines in the Euclidean plane and consider
the relation
$R=\setbuilder{(\ell_0,\ell_1)\in X^2}{\text{the two are parallel}}$. 
Show that $R$ is an equivalence.
\item List five elements.
\item Fix a vertical line $\ell$ (for instance, the $x$-axis 
  $\setbuilder{(x,0)}{x\in\R}$).
  List five elements of $X$ that are related to~$\ell$.
\end{exes}
\end{ex}

\begin{df}
Let $R$ be an equivalence relation on~$X$.
The \definend{equivalence class} of $x\in X$ is the set
$\eqclass{x}=\setbuilder{y\in X}{y\equiv x\pmod R}$.   
\end{df}

\begin{ex} Describe the equivalence classes.
\begin{exes}
\item \cref{RationalsAsEqClasses}
\item \cref{PlaneLinesAsClasses}
\end{exes}
\end{ex}

\begin{df}
A \definend{partition} of a set $X$ is a 
set of nonempty subsets of~$X$ such that every element $x\in X$ 
is in exactly one of these subsets.
That is, a set~$P$ is a partition of $X$ if and only if 
none of its elements is the empty set,
it \definend{covers}~$X$
(the union of the elements of $P$ is equal to~$X$),
and the elements of $P$ are \definend{pairwise disjoint}
(the intersection $p_i\intersection p_j$ is empty for $i\neq j$).
\end{df}

\begin{center}
  \grf{asy/bean_partition.pdf}{Set~$X$ partitioned into four parts}
\end{center}

\begin{ex} Let $R$ be an equivalence on~$X$.
Prove that the following are equivalent statements for $x,y\in X$;
\begin{exes}
\item $x\equiv y\pmod R$
\item $\eqclass{x}=\eqclass{y}$    
\item $\eqclass{x}\intersection\eqclass{y}\neq \emptyset$
\end{exes}
\end{ex}

\begin{ex} Prove.
\begin{exes}
\item Where $R$ is an equivalence, 
  the collection of equivalence classes 
  $\setbuilder{\eqclass{x}}{x\in X}$ forms a partition of~$X$.
  We say it is the partition \definend{induced} by the relation.
\item Where $P$ is a partition of~$X$, 
  the relation $R=\setbuilder{(x,y)\in X^2}{\text{$x$ and~$y$ are in the same part}}$ 
  is an equivalence.
  We say this relation \definend{arises from} the partition. 
\end{exes}
\end{ex}

\begin{ex}
Suppose that $\map{f}{D}{C}$ is onto.
Show that the relation
$R=\setbuilder{(d_0,d_1)\in D^2}{f(d_0)=f(d_1)}$ 
is an equivalence on~$D$. 
Show that the set of inverse images 
$P=\setbuilder{f^{-1}(c)}{c\in C}$ is a partition of the domain.
\end{ex}

\begin{df}
A binary relation~$R$ is \definend{antisymmetric} if
$(x,y)\in R$ and $(y,x)\in R$ implies that $x=y$.
A relation is a \definend{partial ordering} if it is 
reflexive, antisymmetric, and transitive.  
\end{df}

\begin{ex}
Can a relation be both symmetric and antisymmetric?  
\end{ex}

\begin{ex} Prove each.
\begin{exes}
\item The usual less than or equal to relation~$\leq$ on 
the real numbers is a partial order.
\item The relation `divides' on $\N$ is a partial order.
\item For any set~$A$ the relation $\subseteq$ on $\powerset(A)$ is
a partial order.
\end{exes}
\end{ex}





%===================================================
\chapter{Infinity}

\begin{df}
Two sets have the \definend{same cardinality} 
(or are \definend{equinumerous}) if there is a 
correspondence from one to the other.
We write $A\sim B$.   
\end{df}

\begin{df}
A set is \definend{finite} if it has~$n$ elements for some $n\in\N$.
Otherwise the set is \definend{infinite}.   
% \end{df}\begin{df}
A set is \definend{denumerable} if it has the same cardinality 
as $\N$.
A set is \definend{countable} if it is either finite or denumerable.
\end{df}

\begin{ex} Prove.
\begin{exes}
\item The relation $\sim$ is an equivalence.
\item Two finite sets have the sme cardinality iff they have the
  same number of elements.
\end{exes}
\end{ex}

\begin{ex}  Prove.
\begin{exes}
\item The set~$\N\times\N$ is countable.
\item The set of integers is countable.
\end{exes}
\end{ex}

\begin{ex} Prove that the following are equivalent for a set~$A$.
\begin{exes}
\item $A$ is countable
\item $A$ is empty or there is an onto function from $\N$ to~$A$
\item There is a one-to-one function from $A$ to~$\N$    
\end{exes}
\end{ex}

\begin{ex} Prove.
\begin{exes}
\item The set of rational numbers is countable.
\item The union of countably many sets is countable.
\item The set of finite sequences of elements from a countable set is countable.
\end{exes}
\end{ex}

\begin{ex}
\begin{exes}
\item The set $\powerset(\N)$ is not countable.
\item The set of real numbers is not countable.  
\end{exes}
\end{ex}




%===================================================
\appendix
\chapter{Peano axioms}
\newcommand{\axiom}[1]{\textsc{Axiom~#1}\hspace{.5ex}}

Particularly in the 
first chapter a person struggles with when to consider a 
statement sufficiently justified 
and soon comes to wonder what the axioms are like.
Here we give the most often used axiom system for the natural numbers, to
convey a sense of that. 

This system was 
introduced by Dedekind in 1888 and tuned by Peano in 1889.
In addition to the usual set and logical symbols such as $=$ and $\in$,
with the traditional properties, 
our language will use at least two symbols, $0$ and $S$, whose 
properties are limited by the conditions below.

\begin{ax}[Existence of a natural number]
The constant~$0$ is a natural number.
\end{ax}

\begin{ax}[Arithmetical properties]
The \definend{successor} function~$S$ has these properties.
\begin{exes}
\item \notetext{Closure} For all $a\in\N$, its successor~$S(a)$ is also 
  a natural number.
\item \notetext{One-to-one} For all $a,b\in\N$, if $S(a)=S(b)$ then $a=b$.
\item \notetext{Almost onto}
  For all $a\in\N$, if $a\neq 0$ then there is a $b\in\N$ with $S(b)=a$.
  In contrast, no $c\in\N$ has $0$ as a successor.  
\end{exes}
\end{ax}


These properties give infinitely many natural numbers:
$0$, $S(0)$, $S(S(0))$, etc.
Of course, the notation $0$, $1$, $2$, etc., is less clunky.

\begin{ax}[Induction]
  Suppose that $K$ is a set satisfying both (i)~$0\in K$
  and (ii)~for all $n\in\N$, if $n\in K$ then $S(n)\in K$.
  Then $K=\N$.
\end{ax}

\noindent (In this book we use an induction variant that changes
condition~(ii) to: for all $k\in\N$,  
if $n\in K$ for $0\leq n\leq k$ then $S(k)\in K$.
Condition~(ii) above is often called \definend{weak induction} while
the version we use is \definend{strong induction}.
There are technical differences but for our purposes
the two variants are interchangable. 
We prefer the strong variant because while it is 
more awkward to state, it is sometimes easier to apply.)
% http://mathoverflow.net/questions/37944/induction-vs-strong-induction

From those axioms we can for instance 
define addition by recursion using successor
\begin{equation*}
  \add(a,n)=
  \begin{cases}
    a             &\text{if $n=0$}  \\
    S(\add(a,m))  &\text{if $n=S(m)$} 
  \end{cases}
\end{equation*}
and then define multiplication by recursion using addition.
\begin{equation*}
  \mul(a,n)=
  \begin{cases}
    0             &\text{if $n=0$}  \\
    \add(\mul(a,m),a)  &\text{if $n=S(m)$} 
  \end{cases}
\end{equation*}
\end{document}


TODO
